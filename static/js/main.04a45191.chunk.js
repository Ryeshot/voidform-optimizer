(this["webpackJsonpvoidform-optimizer"]=this["webpackJsonpvoidform-optimizer"]||[]).push([[0],[,,,,function(e,t,a){},,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,function(e,t,a){e.exports=a(41)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},,,,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(21),o=a.n(i),s=(a(28),a(1)),c=a(2),l=(a(29),a(30),function(e){var t=e.max,a=e.current;e.voidform;return r.a.createElement("div",{className:"progress-bar-container"},r.a.createElement("div",{className:"progress-text"},(a/t*100).toFixed(0)),r.a.createElement("div",{className:"progress-bar resource-bar",style:{width:"".concat((a/t*100).toFixed(2),"%")}}))}),u=a(9),d=(a(31),a(32),function(e){var t=e.size,a=e.progress,n=e.inverse,i=2*t,o=2*t-i/2,s=2*o*Math.PI;return r.a.createElement("svg",{width:t,height:t},r.a.createElement("circle",{fill:"transparent",strokeWidth:i,strokeOpacity:.7,strokeDasharray:s+" "+s,strokeDashoffset:n?(a?0:s)+(a||0)*s:s+(a||0)*s,stroke:"rgb(0,0,0)",cx:t/2,cy:t/2,r:o}))}),m=a(13),b=a(12),p=a(6),h=a(7),f={CAST:["ABILITY_CAST_SUCCESS","ABILITY_COOLDOWN_START","ABILITY_COOLDOWN_END","ABILITY_CAST_START","ABILITY_CHANNEL_START","ABILITY_CHANNEL_UPDATE","ABILITY_CHANNEL_END"],RESOURCE:["RESOURCE_UPDATE","INSANITY_DRAIN_PAUSE_START","INSANITY_DRAIN_PAUSE_END"],AURA:["VOIDFORM_START","VOIDFORM_UPDATE","VOIDFORM_END","LINGERING_INSANITY_START","LINGERING_INSANITY_UPDATE","LINGERING_INSANITY_END","AURA_START","AURA_BEGIN","AURA_END","DOT_EXTEND"],STAT:["HASTE_UPDATE","HASTE_RESET"]},v={"void-bolt":{onEvent:{COOLDOWN_START:["ABILITY_COOLDOWN_START"],COOLDOWN_END:["ABILITY_COOLDOWN_END"],CAST_SUCCESS:["ABILITY_CAST_SUCCESS","RESOURCE_UPDATE","DOT_EXTEND"]}},"mind-flay":{onEvent:{COOLDOWN_START:[],COOLDOWN_END:[],CHANNEL_START:["ABILITY_CHANNEL_START"],CHANNEL_UPDATE:["ABILITY_CHANNEL_UPDATE","RESOURCE_UPDATE"],CHANNEL_END:["ABILITY_CHANNEL_END"]}},"mind-sear":{onEvent:{COOLDOWN_START:[],COOLDOWN_END:[],CHANNEL_START:["ABILITY_CHANNEL_START"],CHANNEL_UPDATE:["ABILITY_CHANNEL_UPDATE","RESOURCE_UPDATE"],CHANNEL_END:["ABILITY_CHANNEL_END"]}},"void-eruption":{onEvent:{CAST_START:["ABILITY_CAST_START"],CAST_SUCCESS:["ABILITY_CAST_SUCCESS","VOIDFORM_START"]}},"mind-blast":{onEvent:{CAST_START:["ABILITY_CAST_START"],CAST_SUCCESS:["ABILITY_CAST_SUCCESS","RESOURCE_UPDATE"],COOLDOWN_START:["ABILITY_COOLDOWN_START"],COOLDOWN_END:["ABILITY_COOLDOWN_END"]}},"shadow-word-death":{onEvent:{COOLDOWN_START:["ABILITY_COOLDOWN_START"],COOLDOWN_END:["ABILITY_COOLDOWN_END"],CAST_SUCCESS:["ABILITY_CAST_SUCCESS","RESOURCE_UPDATE"]}},"void-torrent":{onEvent:{COOLDOWN_START:["ABILITY_COOLDOWN_START"],COOLDOWN_END:["ABILITY_COOLDOWN_END"],CHANNEL_START:["ABILITY_CHANNEL_START","INSANITY_DRAIN_PAUSE_START"],CHANNEL_UPDATE:["RESOURCE_UPDATE"],CHANNEL_END:["ABILITY_CHANNEL_END","INSANITY_DRAIN_PAUSE_END"]}},"shadow-word-pain":{onEvent:{CAST_SUCCESS:["ABILITY_CAST_SUCCESS","AURA_START","RESOURCE_UPDATE"]}},"vampiric-touch":{onEvent:{CAST_START:["ABILITY_CAST_START"],CAST_SUCCESS:["ABILITY_CAST_SUCCESS","AURA_START","RESOURCE_UPDATE"]}},"devouring-plague":{onEvent:{CAST_START:["ABILITY_CAST_START"],CAST_SUCCESS:["ABILITY_CAST_SUCCESS","AURA_START","RESOURCE_UPDATE"]}},shadowfiend:{onEvent:{COOLDOWN_START:["ABILITY_COOLDOWN_START"],COOLDOWN_END:["ABILITY_COOLDOWN_END"],CAST_SUCCESS:["ABILITY_CAST_SUCCESS","AURA_START","RESOURCE_UPDATE"]}},"power-infusion":{onEvent:{COOLDOWN_START:["ABILITY_COOLDOWN_START"],COOLDOWN_END:["ABILITY_COOLDOWN_END"],CAST_SUCCESS:["ABILITY_CAST_SUCCESS","AURA_START"]}},bloodlust:{onEvent:{COOLDOWN_START:["ABILITY_COOLDOWN_START"],COOLDOWN_END:["ABILITY_COOLDOWN_END"],CAST_SUCCESS:["ABILITY_CAST_SUCCESS","AURA_START"]}}},y={voidform:{onEvent:{AURA_START:[""],AURA_UPDATE:[],AURA_TIME_UPDATE:[],AURA_END:[]}},lingeringInsanity:{onEvent:{AURA_START:[],AURA_UPDATE:[],AURA_TIME_UPDATE:[],AURA_END:[]}},"shadow-word-pain":{onEvent:{AURA_START:[],AURA_UPDATE:[],AURA_TIME_UPDATE:[],AURA_END:[]}},"vampiric-touch":{onEvent:{AURA_START:[],AURA_UPDATE:[],AURA_TIME_UPDATE:[],AURA_END:[]}},"power-infusion":{onEvent:{AURA_START:["AURA_BEGIN","HASTE_UPDATE"],AURA_END:["AURA_END","HASTE_RESET"]}},bloodlust:{onEvent:{AURA_START:["AURA_BEGIN","HASTE_UPDATE"],AURA_END:["AURA_END","HASTE_RESET"]}}},E=function(){function e(t,a){Object(p.a)(this,e),this.eventTriggers=t,this.events=a}return Object(h.a)(e,[{key:"handleEvent",value:function(e,t){var a=this;this.events[e]&&this.events[e].forEach((function(e){return a.eventTriggers[e]({type:e,payload:t})}))}}]),e}(),g={"!":"S-1","@":"S-2","#":"S-3",$:"S-4","%":"S-5","^":"S-6","&":"S-7","*":"S-8","(":"S-9",")":"S-0"," ":"SPC"},T=function(){function e(t,a,n,r){Object(p.a)(this,e),this.state=t,this.updateState=a,this.onExecute=t.ignoreGcd?function(){}:n,this.eventHandler=r,this.updateState({progress:0,charges:t.charges.maxCharges||1})}return Object(h.a)(e,[{key:"getCurrentState",value:function(){var e={},t=this.state;return Object.keys(t).forEach((function(a){var n=t[a];if("object"===typeof n){var r={};Object.keys(n).forEach((function(e){var t=n[e];"undefined"!==t&&(r[e]="object"!==typeof t?t:t.current)})),e[a]=r}else e[a]=n})),e}},{key:"getRemainingCooldown",value:function(){var e=Date.now(),t=this.state.cooldown.startTime.current,a=t?this.state.cooldown.duration.current:0;return 0===this.state.charges.current.current?(t||e)+a-e:0}},{key:"startCooldown",value:function(){var e=this,t=this.getCurrentState(),a=t.name,n=t.charges.maxCharges;this.cooldownTimer=setInterval((function(){var t=Date.now(),r=e.state.cooldown.duration.current,i=e.state.cooldown.startTime.current||t,o=e.state.charges.current.current,c=i+r-t;if(c<=20)return e.updateState((function(e){return Object(s.a)(Object(s.a)({},e),{},{charges:o+1})})),clearInterval(e.cooldownTimer),n&&o<n-1?void e.startCooldown():(e.eventHandler.handleEvent("COOLDOWN_END",{name:a}),void e.updateState((function(e){return Object(s.a)(Object(s.a)({},e),{},{progress:0})})));e.updateState((function(e){return Object(s.a)(Object(s.a)({},e),{},{progress:c/r})}))}),20),this.eventHandler.handleEvent("COOLDOWN_START",{name:a,time:Date.now()})}},{key:"startCast",value:function(){var e=this,t=this.getCurrentState(),a=t.name,n=t.displayName,r=t.resource,i=t.costsResource,o=t.cast.duration;this.castTimer=setTimeout((function(){e.eventHandler.handleEvent("CAST_SUCCESS",{name:a,resource:r,costsResource:i,time:Date.now()});var t=e.state.cooldown.duration.current,n=e.state.cooldown.startTime.current,o=e.state.charges.current.current;if(t){if(e.updateState((function(e){return Object(s.a)(Object(s.a)({},e),{},{charges:o-1})})),n)return;e.startCooldown()}}),o),this.eventHandler.handleEvent("CAST_START",{name:a,displayName:n,duration:o,time:Date.now()})}},{key:"startChannel",value:function(){var e=this,t=this.getCurrentState(),a=t.cast,n=a.startTime,r=a.endTime,i=a.duration,o=t.channel,s=o.baseDuration,c=o.baseTicks,l=o.ticks,u=t.name,d=t.displayName,m=t.resource,b=t.globalCooldown.duration,p=Date.now(),h=0,f=c;if(n){clearInterval(this.channelTimer);var v=r-n-(p-n),y=Math.floor(c*((s-b)/s));h=Math.min(v,.3*s),f+=Math.min(l,y)}var E=Math.round((i+h)/f);this.channelTimer=setInterval((function(){var t=Date.now(),a=e.state.cast.endTime.current,n=1===e.state.channel.ticks.current&&h?.3:1;return a?(e.eventHandler.handleEvent("CHANNEL_UPDATE",{resource:m/c*n,name:u}),t>=a?(clearInterval(e.channelTimer),void e.eventHandler.handleEvent("CHANNEL_END",{name:u})):void 0):(clearInterval(e.channelTimer),void e.eventHandler.handleEvent("CHANNEL_END",{name:u}))}),E),this.eventHandler.handleEvent("CHANNEL_START",{name:u,displayName:d,duration:i+h,time:p,baseChannelTime:i,currentTicks:f})}},{key:"beginGlobalCooldown",value:function(){var e=this,t=this.getCurrentState(),a=t.globalCooldown,n=a.duration,r=a.startTime,i=t.charges,o=i.current,c=i.maxCharges;if(!t.ignoreGcd){if(t.cooldown.startTime){if(c&&o<c-1)return;if(t.cooldown.startTime+t.cooldown.duration-r>n)return}this.globalCooldownTimer=setInterval((function(){var t=Date.now(),a=r+n-t;if(a<=20)return clearInterval(e.globalCooldownTimer),void e.updateState((function(e){return Object(s.a)(Object(s.a)({},e),{},{progress:0})}));e.state.cooldown.startTime.current||e.updateState((function(e){return Object(s.a)(Object(s.a)({},e),{},{progress:a/n})}))}),20)}}},{key:"remove",value:function(){clearInterval(this.cooldownTimer),clearInterval(this.globalCooldownTimer),clearInterval(this.channelTimer),clearTimeout(this.castTimer)}}],[{key:"create",value:function(e,t,a,n,r){var i=function(e,t){var a={};return t.forEach((function(e){e.eventTypes.forEach((function(t){f[t].forEach((function(t){return a[t]=e.trigger}))}))})),new E(a,v[e].onEvent)}(t.name,r);switch(e){case"instant":return new O(t,a,n,i);case"cast":return new N(t,a,n,i);case"channel":return new S(t,a,n,i)}}}]),e}(),O=function(e){Object(m.a)(a,e);var t=Object(b.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"execute",value:function(){if(!this.state.unusable.current&&!this.state.cast.casting.current){var e=this.getCurrentState(),t=e.name,a=e.resource,n=e.costsResource,r=e.cooldown.startTime,i=e.charges,o=i.maxCharges,c=i.current;r&&0===c||(this.updateState((function(e){return Object(s.a)(Object(s.a)({},e),{},{charges:c-1})})),this.eventHandler.handleEvent("CAST_SUCCESS",{name:t,resource:a,costsResource:n,time:Date.now()}),this.onExecute(),o&&c<o||this.startCooldown())}}}]),a}(T),N=function(e){Object(m.a)(a,e);var t=Object(b.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"execute",value:function(){if(!this.state.unusable.current&&!this.state.cast.casting.current){var e=this.getCurrentState(),t=e.cast.startTime,a=e.charges.current;t||0===a||(this.startCast(),this.onExecute())}}}]),a}(T),S=function(e){Object(m.a)(a,e);var t=Object(b.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"execute",value:function(){if(!this.state.unusable.current&&!this.state.cast.casting.current){var e=this.getCurrentState().cooldown,t=e.duration;e.startTime||(this.startChannel(),t&&this.startCooldown(),this.onExecute())}}}]),a}(T),w=T,A=function(e){var t=e.name,a=e.displayName,i=e.settings,o=e.cooldown,s=e.globalCooldown,l=e.globalCooldownStartTime,u=e.unusable,m=e.startTime,b=e.casttime,p=e.castStartTime,h=e.castEndTime,f=e.icon,v=e.baseChannelTime,y=e.currentTicks,E=e.keybind,g=e.casting,T=e.subscribe,O=e.unsubscribe,N=e.onExecute,S=e.onAbilityUpdate,A=e.onClick,C=e.triggerEvent,k=e.reset,j=Object(n.useState)({}),I=Object(c.a)(j,2),_=I[0],R=I[1],D=E.key,x=E.keybindText,L=i.type,U=i.resource,P=i.costsResource,B=i.charges,Y=i.ticks,V=i.ignoreGcd,H=Object(n.useRef)(m),W=Object(n.useRef)(o);H.current=m,W.current=o;var G=Object(n.useRef)(p),M=Object(n.useRef)(h),F=Object(n.useRef)(b),z=Object(n.useRef)(g);G.current=p,M.current=h,F.current=b,z.current=g;var q=Object(n.useRef)(v),J=Object(n.useRef)(y);q.current=v,J.current=y;var K=Object(n.useRef)(B||1);K.current=_.charges;var X=Object(n.useRef)(s),$=Object(n.useRef)(l);X.current=s,$.current=l;var Z=Object(n.useRef)(u);Z.current=u;var Q=Object(n.useRef)();Object(n.useEffect)((function(){var e=[{eventTypes:["CAST"],trigger:S},{eventTypes:["RESOURCE","AURA","STAT"],trigger:C}],n={name:t,displayName:a,resource:U,costsResource:P,unusable:Z,ignoreGcd:V,cooldown:{duration:W,startTime:H},cast:{duration:F,startTime:G,endTime:M,casting:z},channel:{baseDuration:q,baseTicks:Y,ticks:J},charges:{maxCharges:B,current:K},globalCooldown:{duration:X,startTime:$}};return Q.current=w.create(L,n,R,N,e),T({source:t,keybind:D,execute:function(){return Q.current.execute()},notify:function(){return Q.current.beginGlobalCooldown()},getRemainingCooldown:function(){return Q.current.getRemainingCooldown()},ignoresGcd:!!V}),function(){Q.current.remove(),O(t)}}),[D,k]);return r.a.createElement("div",{className:"progress-ability-container"},r.a.createElement("div",{className:"progress-ability hover-pointer",onClick:function(){A(t,(function(){return Q.current.getRemainingCooldown()}),(function(){return Q.current.execute()}),!!V)}},r.a.createElement("img",{className:u||!(_.charges>0&&B)&&H.current?"desaturated":"colored",src:f,width:50,height:50}),r.a.createElement("div",{className:"charge-text"},B>1?_.charges:""),H.current||X.current?r.a.createElement(d,{size:50,progress:_.progress}):null),r.a.createElement("div",null,x))},C={start:function(e,t){t({type:"GLOBAL_COOLDOWN_START",payload:{gcd:e,time:Date.now()}}),setTimeout((function(){t({type:"GLOBAL_COOLDOWN_END"})}),e)}},k=(a(33),function(e){var t=e.time,a=e.name,i=e.displayName,o=e.duration,s=e.direction,l=Object(n.useState)(0),u=Object(c.a)(l,2),d=u[0],m=u[1],b=Object(n.useRef)(t),p=Object(n.useRef)(t);return b.current=t,p.current=o,Object(n.useEffect)((function(){var e=setInterval((function(){var e=Date.now();m((function(t){return e-b.current}))}),50);return function(){clearInterval(e),m((function(e){return 0}))}}),[a]),r.a.createElement("div",{className:"progress-bar-container"},r.a.createElement("div",{className:"cast-bar-text-container"},r.a.createElement("div",{className:"progress-text cast-bar-text"},i),r.a.createElement("div",{className:"progress-text cast-bar-text"},s?"".concat((d/1e3).toFixed(1),"/").concat((o/1e3).toFixed(1)):"".concat(((p.current-d)/1e3).toFixed(1),"/").concat((p.current/1e3).toFixed(1)),"sec")),r.a.createElement("div",{className:"progress-bar cast-bar",style:{width:"".concat(s?(d/p.current*100).toFixed(2):((p.current-d)/p.current*100).toFixed(2),"%")}}))}),j=(a(34),function(e){var t=e.abilitySettings,a=e.abilities,i=e.haste,o=e.inVoidform,l=e.triggerEvent,d=e.keyEventsPaused,m=e.reset,b=Object(n.useRef)(i);b.current=i;var p=Object(n.useRef)(o);p.current=o;var h=Object(n.useRef)(),f=Object(n.useState)([]),v=Object(c.a)(f,2),y=v[0],E=v[1],g=Object(n.useRef)(y);g.current=y;var T={globalCooldown:0,cooldowns:function(){var e={};return Object.keys(a).forEach((function(a){t[a]&&t[a].disabled||(e[a]={startTime:0})})),e}(),status:{}},O=Object(n.useState)(m),N=Object(c.a)(O,2),S=N[0],w=N[1];Object(n.useEffect)((function(){return R({type:"RESET"}),function(){return w(m)}}),[m]),Object(n.useEffect)((function(){var e="mind-blast",a=t[e],n=H(e),r=a.cdr*(o?-1:1);a.cooldown+=r;var i=_.cooldowns[e].startTime;if(i&&S!==m){r=H(e)-n;var s=Date.now();R({type:"ABILITY_COOLDOWN_START",payload:{name:e,time:i+(i+n-s)/n*r-r}})}}),[o]),Object(n.useEffect)((function(){return document.addEventListener("keydown",L),document.addEventListener("keypress",L),function(){document.removeEventListener("keydown",L),document.removeEventListener("keypress",L)}}),[d]);var j=Object(n.useReducer)((function(e,a){var n=JSON.parse(JSON.stringify(e)),r=a.payload;switch(a.type){case"RESET":return T;case"EXECUTE_PENDING":var i=r.name;n.status[i]="PENDING";break;case"EXECUTE_END":i=r.name;n.status[i]="";break;case"ABILITY_CAST_SUCCESS":i=r.name;if(t["void-bolt"].rankTwo&&n.casting&&"void-bolt"===i&&"mind-flay"===n.casting.name)break;n.cooldowns[i].castStartTime=0,n.cooldowns[i].castEndTime=0,n.casting&&(n.cooldowns[n.casting.name].castStartTime=0,n.cooldowns[n.casting.name].castEndTime=0,delete n.casting);break;case"ABILITY_COOLDOWN_START":i=r.name;var o=r.time;n.cooldowns[i].startTime=o;break;case"ABILITY_COOLDOWN_END":i=r.name;n.cooldowns[i].startTime=0;break;case"ABILITY_CAST_START":i=r.name;var c=r.displayName,l=(o=r.time,r.duration);n.cooldowns[i].castStartTime=o,n.cooldowns[i].castEndTime=o+l,n.casting&&(n.cooldowns[n.casting.name].castStartTime=0,n.cooldowns[n.casting.name].castEndTime=0),n.casting={duration:l,name:i,displayName:c,direction:1,time:o};break;case"ABILITY_CHANNEL_START":i=r.name,c=r.displayName,o=r.time,l=r.duration;var u=r.baseChannelTime,d=r.currentTicks,m=n.cooldowns[i];n.cooldowns[i]=Object(s.a)(Object(s.a)({},m),{},{castStartTime:o,castEndTime:o+l,baseChannelTime:u,currentTicks:d}),n.casting&&i!==n.casting.name&&(n.cooldowns[n.casting.name].castStartTime=0,n.cooldowns[n.casting.name].castEndTime=0),n.casting={duration:l,name:i,displayName:c,direction:0,time:o};break;case"ABILITY_CHANNEL_UPDATE":i=r.name;n.cooldowns[i].currentTicks--;break;case"ABILITY_CHANNEL_END":i=r.name,m=n.cooldowns[i];n.cooldowns[i]=Object(s.a)(Object(s.a)({},m),{},{castStartTime:0,castEndTime:0,currentTicks:0}),n.casting&&i===n.casting.name&&delete n.casting;break;case"GLOBAL_COOLDOWN_START":n.globalCooldown=r.gcd,n.globalCooldownStartTime=r.time;break;case"GLOBAL_COOLDOWN_END":n.globalCooldownStartTime=0;break;default:console.error("Invalid action provided: ".concat(a.type))}return n}),T),I=Object(c.a)(j,2),_=I[0],R=I[1],D=Object(n.useRef)(_.globalCooldown);D.current=_.globalCooldown;var x=Object(n.useRef)(_.globalCooldownStartTime);x.current=_.globalCooldownStartTime;var L=function(e){if(!d){var t=Date.now();g.current.forEach((function(a){if(a.keybind===e.key){e.preventDefault();var n=a.getRemainingCooldown(),r=D.current?D.current-(t-x.current):0,i=a.ignoresGcd?0:Math.max(n,r);if(i>250)return;G(a.source,a.execute,i+15)}}))}},U=function(e,t,a,n){var r=Date.now(),i=t(),o=D.current?D.current-(r-x.current):0,s=n?0:Math.max(i,o);s>250||G(e,a,s+15)},P=function(e){return e/b.current},B=function(){var e=Math.max(P(1500),750);C.start(e,R),setTimeout((function(){g.current.forEach((function(e){return e.notify()}))}),0)},Y=function(e){E((function(t){return[].concat(Object(u.a)(t),[e])}))},V=function(e){E((function(t){return t.filter((function(t){return t.source!==e}))}))},H=function(e){var a=t[e],n=a.cooldown;return a.hasted?P(n):n},W=function(e){var a=t[e],n=a.casttime;return a.staticCastTime?n:P(n)},G=function(e,t,a){clearTimeout(h.current),h.current=setTimeout((function(){g.current.find((function(t){return t.source===e}))&&t()}),a)},M=function(e){return!a[e].disabled&&(!("void-bolt"===e&&!p.current)&&("void-eruption"!==e||!p.current))};return r.a.createElement("div",{className:"ability-bar-container"},r.a.createElement("div",{className:"progress-bar-container"},_.casting?r.a.createElement(k,_.casting):null),r.a.createElement("div",{className:"ability-bar"},function(e){return Object.keys(e).filter(M).sort((function(t,a){return e[t].index-e[a].index}))}(a).map((function(e){return r.a.createElement(A,Object.assign({name:e,key:"ability-".concat(e)},a[e],_.cooldowns[e],{settings:t[e],cooldown:H(e),globalCooldown:_.globalCooldown,globalCooldownStartTime:_.globalCooldownStartTime,casttime:W(e),casting:_.casting&&_.casting.time&&_.casting.direction,subscribe:Y,unsubscribe:V,onExecute:B,onAbilityUpdate:R,onClick:U,triggerEvent:l,reset:m}))}))))}),I=a(5),_=(a(35),function(e){var t=e.icon,a=(e.displayName,e.duration),n=e.maxDuration,i=e.stacks,o=a&&(n-a)/n;return r.a.createElement("div",{className:"aura"},r.a.createElement("img",{src:t,width:30,height:30}),r.a.createElement("div",{className:"aura-text"},i>0?i:""),a?r.a.createElement(d,{size:30,progress:o,inverse:!0}):null,e.children)}),R=function(e){var t=e.type,a=e.startTime,i=e.haste,o=e.stacks,s=e.inVoidform,l=e.triggerEvent,u=Object(I.a)(e,["type","startTime","haste","stacks","inVoidform","triggerEvent"]),d=Object(n.useState)(6e4),m=Object(c.a)(d,2),b=m[0],p=m[1],h=Object(n.useState)(0),f=Object(c.a)(h,2),v=f[0],y=f[1],E=Object(n.useRef)(o);E.current=o;var g=Object(n.useRef)(s);g.current=s;var T=Object(n.useRef)(a);T.current=a;var O=Object(n.useRef)(i);O.current=i;var N=function(e,t,a,n){var r=e?6e4:n;return p((function(e){return r})),l({type:"LINGERING_INSANITY_START",payload:{haste:O.current*t,stacks:Math.ceil(a*t)}}),{currentMaxDuration:r,voidformEntered:!1}},S=function(e,t){return Math.ceil(e/t)};return Object(n.useEffect)((function(){var e;switch(t){case"static":e=function(){var e=u.duration,t=u.afterVoidformEntry,a=u.hasteRetention,n=N(t,a,E.current,e),r=setInterval((function(){var i=Date.now();if(!n.voidformEntered||g.current)return i>=T.current+n.currentMaxDuration?(clearInterval(r),void l({type:"LINGERING_INSANITY_END"})):!n.voidformEntered&&g.current&&(n.voidformEntered=!0,t)?(l({type:"AURA_REFRESH",payload:{name:"lingeringInsanity",time:i}}),p((function(t){return e})),n.currentMaxDuration=e,void y((function(e){return 0}))):void y((function(e){return i-T.current}));n=N(t,a,E.current,e)}),100);return r}();break;case"decay":e=function(){var e=u.decayRate,t=u.hasteDecay,a=0,n=N(!0,1,S(O.current,t)),r=setInterval((function(){a+=100;var i=Date.now();return n.voidformEntered&&!g.current?(n=N(!0,1,S(O.current,t)),void(a=0)):E.current<=0?(clearInterval(r),void l({type:"LINGERING_INSANITY_END"})):(a%e===0&&l({type:"LINGERING_INSANITY_UPDATE",payload:-1*t}),!n.voidformEntered&&g.current&&(n.voidformEntered=!0),void y((function(e){return i-T.current})))}),100);return r}()}return function(){return clearInterval(e)}}),[]),r.a.createElement(_,{icon:"images/lingering-insanity.jpg",displayName:"Lingering Insanity",duration:v,maxDuration:b,stacks:o})},D=function(e){var t=e.drainRate,a=e.drainStart,i=e.hasteStack,o=e.hasteStart,s=e.maxStacks,l=e.paused,u=e.active,d=e.triggerEvent,m=Object(n.useState)(1),b=Object(c.a)(m,2),p=b[0],h=b[1],f=Object(n.useRef)(l);f.current=l;return Object(n.useEffect)((function(){var e=function(){var e=0,n=Math.round(10),r=0;return d({type:"HASTE_UPDATE",payload:{source:"voidform",haste:o+i}}),setInterval((function(){var o=.1*(a+t*e);r++,f.current||(e+=.1,d({type:"RESOURCE_UPDATE",payload:{resource:-1*o}})),r%n===0&&(!s||r/n<s)&&(d({type:"VOIDFORM_UPDATE",payload:i}),h((function(e){return e+1})))}),100)}();return function(){clearInterval(e),d({type:"VOIDFORM_END",payload:{time:Date.now(),startingHaste:o}})}}),[u]),r.a.createElement(_,{icon:"images/voidform.jpg",displayName:"Voidform",stacks:p})},x=function(e){var t=e.icon,a=e.name,i=e.displayName,o=e.startTime,s=e.baseDuration,l=e.maxDuration,u=e.ticks,d=e.resource,m=e.haste,b=e.hasted,p=e.triggerEvent,h=Object(n.useState)(0),f=Object(c.a)(h,2),v=f[0],y=f[1],E=Object(n.useRef)(o);E.current=o;var g=Object(n.useRef)(l);g.current=l;var T=Object(n.useRef)(m);T.current=m;var O=function(e){return s/u/(b&&T.current||1)+e};return Object(n.useEffect)((function(){var e=Date.now(),t=O(e);p({type:"AURA_BEGIN",payload:{name:a,duration:s,time:e}});var n=setInterval((function(){var e=Date.now();if(e>=E.current+g.current)return clearInterval(n),p({type:"RESOURCE_UPDATE",payload:{resource:d}}),void p({type:"AURA_END",payload:{name:a}});e>=t&&(p({type:"RESOURCE_UPDATE",payload:{resource:d}}),t=O(e)),y((function(t){return e-E.current}))}),100);return function(){return clearInterval(n)}}),[]),r.a.createElement(_,{icon:t,displayName:i,duration:v,maxDuration:g.current})},L=function(e){var t=e.icon,a=e.name,i=e.displayName,o=e.startTime,l=e.setting,u=e.triggerEvent,d=l.baseDuration,m=Object(n.useState)(0),b=Object(c.a)(m,2),p=b[0],h=b[1],v=Object(n.useRef)(o);return v.current=o,Object(n.useEffect)((function(){var e=function(e,t){var a={};return["AURA","RESOURCE","STAT"].forEach((function(e){f[e].forEach((function(e){return a[e]=t}))})),new E(a,y[e].onEvent)}(a,u),t=Date.now();e.handleEvent("AURA_START",Object(s.a)({name:a,source:a,duration:d,time:t},l));var n=setInterval((function(){var t=Date.now();if(t>=v.current+d)return clearInterval(n),void e.handleEvent("AURA_END",{name:a,source:a});h((function(e){return t-v.current}))}),100);return function(){return clearInterval(n)}}),[]),r.a.createElement(_,{icon:t,displayName:i,duration:p,maxDuration:d})},U={cooldown:{key:"cooldown",displayName:"Cooldown",type:"time",whatIs:"The amount of time, in seconds, it takes for an ability to be able to be recast.",unit:"sec"},charges:{key:"charges",displayName:"Charges",type:"number",whatIs:"The number of times an ability may be cast while it is on cooldown."},hasted:{key:"hasted",displayName:"Hasted",type:"boolean",whatIs:"An ability that is hasted has its cooldown reduced by haste."},resourceCast:{key:"resource",displayName:"Resource",type:"number",whatIs:"The amount of resource an ability will generate upon a successful cast.",unit:"insanity"},resourceChannel:{key:"resource",displayName:"Resource",type:"number",whatIs:"The amount of resource an ability will generate over its complete channel period.",unit:"insanity"},cost:{key:"resource",displayName:"Cost",type:"number",whatIs:"The amount of resource required to cast an ability. Casting the ability will spend the resource cost.",unit:"insanity"},castTime:{key:"casttime",displayName:"Cast Time",type:"time",whatIs:"The amount of time, in seconds, it takes for an ability to be executed.",unit:"sec"},channelTime:{key:"casttime",displayName:"Channel Time",type:"time",whatIs:"The amount of time, in seconds, it takes for an ability's channel to complete.",unit:"sec"},ticks:{key:"ticks",displayName:"Ticks",type:"number",whatIs:"The number of times a channel generates resources over its duration."},auraDuration:{key:"baseDuration",displayName:"Duration",type:"time",whatIs:"The amount of time, in seconds, that an aura's effect will last."},auraTicks:{key:"ticks",displayName:"Ticks",type:"number",whatIs:"The number of times an aura will trigger its effect over its duration."},auraResource:{key:"resource",displayName:"Resource",type:"number",whatIs:"The amount of resource an aura will generate every time its effect triggers."}},P={"void-bolt":[U.cooldown,U.hasted,U.charges,U.resourceCast,{key:"extension",displayName:"DoT Extension",type:"time",whatIs:"The amount of time, in seconds, that Shadow Word: Pain and Vampiric Touch are extended when Void Bolt is cast."}],"void-eruption":[U.castTime,{key:"resource",displayName:"Insanity Threshold",type:"number",whatIs:"The amount of Insanity that is required to cast Void Eruption out of Voidform."}],"mind-flay":[U.channelTime,U.resourceChannel,U.ticks],"mind-sear":[U.channelTime,U.resourceChannel,U.ticks,{key:"targetCount",displayName:"Target Count",type:"number",whatIs:"The number of targets Mind Sear will hit. Mind Sear generates more resource per additional target."}],"mind-blast":[U.cooldown,U.charges,U.castTime,U.hasted,U.resourceCast,{key:"cdr",displayName:"Voidform Cooldown Reduction",type:"time",whatIs:"The amount of time, in seconds, that Mind Blast's cooldown is reduced while in Voidform."}],"shadow-word-death":[U.cooldown,U.charges,U.hasted,U.resourceCast],"void-torrent":[U.cooldown,U.channelTime,U.resourceChannel,U.ticks,{key:"requireVoidform",displayName:"Require Voidform",type:"boolean",whatIs:"Must be in Voidform in order to cast the ability."}],"shadow-word-pain":[U.resourceCast],"vampiric-touch":[U.castTime,U.resourceCast],"devouring-plague":[U.cooldown,U.cost],shadowfiend:[U.cooldown,U.resourceCast],"power-infusion":[U.cooldown]},B={stats:[{key:"haste",displayName:"Haste",type:"percent",whatIs:"Increases the rate at which spells cast and the global cooldown, and certain spell cooldowns, regenerate."}],voidform:[{key:"drainStart",displayName:"Starting Insanity Drain",type:"float",unit:"/sec",whatIs:"The starting amount of Insanity being drained every second while in Voidform."},{key:"drainRate",displayName:"Insanity Drain Rate",type:"float",unit:"/sec",whatIs:"The amount of increasing Insanity drained every second while in Voidform."},{key:"hasteStart",displayName:"Voidform Starting Haste",type:"percent",whatIs:"The amount of haste, in percent, that is granted at the start of Voidform."},{key:"hasteStack",displayName:"Voidform Haste Per Stack",type:"percent",whatIs:"The amount of haste, in percent, that every stack of Voidform grants."},{key:"maxStacks",displayName:"Maximum Voidform Stacks",type:"number",whatIs:"The maximum number of Voidform stacks. Note that reaching the maximum does not stop drain from increasing."},{key:"gainInsanity",displayName:"Gain Insanity",type:"boolean",whatIs:"While in Voidform, if enabled spells will generate insanity, otherwise they won't."}],lingeringInsanity:[{key:"type",displayName:"Aura Type",type:"select",options:[{value:"static",displayName:"Static"},{value:"decay",displayName:"Decay"}],whatIs:"Lingering Insanity has two types.\nStatic - The length of the aura and haste from stacks are constant.\nDecay - Haste stacks are lost over the aura's duration at a certain rate."},{key:"duration",displayName:"Aura Duration",type:"time",whatIs:"An option for type 'Static'. This is the amount of time, in seconds, that the aura will last."},{key:"afterVoidformEntry",displayName:"After Voidform Entry",type:"boolean",whatIs:"An option for type 'Static'. If enabled, then the duration for Lingering Insanity will only start after entering Voidform."},{key:"hasteRetention",displayName:"Haste Retained",type:"percent",whatIs:"An option for type 'Static. The amount of haste, in percent, that is retained from the final stacks of the previous Voidform."},{key:"decayRate",displayName:"Stack Decay Rate",type:"time",whatIs:"An option for type 'Decay'. The amount of time, in seconds it takes for one stack of the aura to be lost."},{key:"hasteDecay",displayName:"Haste Decay Amount",type:"percent",whatIs:"An option for type 'Decay'. The amount of haste, in percent, that is removed every time the aura loses a stack."}],"shadow-word-pain":[U.auraDuration,U.auraTicks,U.auraResource],"vampiric-touch":[U.auraDuration,U.auraTicks,U.auraResource],"devouring-plague":[U.auraDuration,U.auraTicks,U.auraResource,{key:"hasted",displayName:"Hasted",type:"boolean",whatIs:"An aura that is hasted has its period reduced by haste."}],shadowfiend:[U.auraResource],"power-infusion":[U.auraDuration,{key:"haste",displayName:"Haste",type:"percent",whatIs:"The amount of haste, in percent, that is granted while an aura is active"},{key:"resourceGen",displayName:"Resource Generation",type:"percent",whatIs:"Increases the amount of resource generated from abilities while an aura is active."}]},Y=[{name:"shadow-word-pain",icon:"images/shadow-word-pain.jpg",displayName:"Shadow Word: Pain"},{name:"vampiric-touch",icon:"images/vampiric-touch.jpg",displayName:"Vampiric Touch"},{name:"devouring-plague",icon:"images/devouring-plague.jpg",displayName:"Devouring Plague"},{name:"shadowfiend",icon:"images/shadowfiend.jpg",displayName:"Shadowfiend"}],V=[{name:"power-infusion",icon:"images/power-infusion.jpg",displayName:"Power Infusion"},{name:"bloodlust",icon:"images/bloodlust.jpg",displayName:"Bloodlust"}],H=function(e){var t=e.auras,a=e.triggerEvent,i=e.settings,o=e.haste,s=i.lingeringInsanity,l=i.voidform,u=Object(n.useReducer)((function(e,t){})),d=Object(c.a)(u,2);d[0],d[1];return r.a.createElement("div",{className:"aura-container"},t.voidform.active?r.a.createElement(D,Object.assign({},l,t.voidform,{triggerEvent:a})):null,t.lingeringInsanity.active?r.a.createElement(R,Object.assign({},s,t.lingeringInsanity,{inVoidform:t.voidform.active,triggerEvent:a})):null,Y.map((function(e){return t[e.name].active?r.a.createElement(x,Object.assign({},e,t[e.name],i[e.name],{haste:o,triggerEvent:a})):null})),V.map((function(e){return t[e.name].active?r.a.createElement(L,Object.assign({},e,t[e.name],{setting:i[e.name],triggerEvent:a})):null})))},W=(a(4),function(e){var t=e.panel,a=e.currentPanel,i=e.reset,o=e.onClick,s=e.handleClose,c=e.header,l=e.panelClass,u=e.style;return function(e,t,a){var r=Object(n.useRef)();Object(n.useEffect)((function(){r.current===e&&a(),r.current=t}),[t])}(t,a,i),r.a.createElement("div",null,r.a.createElement("div",{className:"panel-header hover-pointer",onClick:function(){return o(t)}},c),r.a.createElement("div",{className:"panel ".concat(l),style:u},r.a.createElement("button",{className:"panel-button panel-exit-button",onClick:s},"x"),e.children))}),G=a(14),M={"mind-flay":{cooldown:0,resource:12,hasted:!0,casttime:3e3,ticks:4,type:"channel"},"mind-sear":{cooldown:0,resource:5,hasted:!0,casttime:3e3,ticks:4,targetCount:1,type:"channel"},"void-bolt":{cooldown:4500,resource:20,hasted:!0,rankTwo:!1,type:"instant",charges:1,extension:3e3},"void-eruption":{cooldown:0,type:"cast",casttime:2e3,resource:90,costsResource:!0},"mind-blast":{cooldown:7500,resource:12,hasted:!0,type:"cast",casttime:1500,charges:1,cdr:1500},"shadow-word-death":{cooldown:9e3,resource:15,hasted:!1,type:"instant",charges:1},"void-torrent":{cooldown:45e3,resource:30,type:"channel",casttime:4e3,staticCastTime:!0,ticks:10,requireVoidform:!1},"shadow-word-pain":{cooldown:0,resource:4,type:"instant"},"vampiric-touch":{cooldown:0,resource:6,type:"cast",casttime:1500},"devouring-plague":{cooldown:0,resource:50,costsResource:!0,type:"instant"},shadowfiend:{cooldown:18e4,resource:3,type:"instant"},"power-infusion":{cooldown:12e4,type:"instant"},bloodlust:{cooldown:3e5,ignoreGcd:!0,type:"instant"}},F={stats:{displayName:"Stats",haste:0},voidform:{displayName:"Voidform",drainStart:6,drainRate:.68,hasteStart:0,hasteStack:.005,maxStacks:0,gainInsanity:!0},lingeringInsanity:{displayName:"Lingering Insanity",type:"decay",duration:6e4,afterVoidformEntry:!1,hasteRetention:1,decayRate:3e3,hasteDecay:.01},"shadow-word-pain":{displayName:"Shadow Word: Pain",baseDuration:16e3,ticks:8,resource:0,hasted:!0},"vampiric-touch":{displayName:"Vampiric Touch",baseDuration:21e3,ticks:7,resource:0,hasted:!0},"devouring-plague":{displayName:"Devouring Plague",baseDuration:12e3,ticks:4,resource:0,hasted:!0},shadowfiend:{displayName:"Shadowfiend",baseDuration:15e3,ticks:10,resource:3},"power-infusion":{displayName:"Power Infusion",baseDuration:2e4,haste:.25,resourceGen:0},bloodlust:{displayName:"Bloodlust",baseDuration:4e4,haste:.3}},z=function(e){var t={};return Object.keys(M).forEach((function(a){var n=e[a];if(!n)throw new Error("Missing ability in input");t[a]=function(e,t){var a=M[t];return Object.keys(a).reduce((function(t,n){var r=e[n],i=a[n];if(null===r||void 0===r)throw new Error("Missing ability setting in input "+n);if(typeof r!==typeof i)throw new Error("Ability setting has invalid format");return t[n]=r,t}),{})}(n,a)})),t},q=function(e){var t={};return Object.keys(F).forEach((function(a){var n=e[a];if(!n)throw new Error("Missing aura in input");t[a]=function(e,t){var a=F[t];return Object.keys(a).reduce((function(t,n){var r=e[n],i=a[n];if(null===r||void 0===a)throw new Error("Missing aura setting in input "+n);if(typeof r!==typeof i)throw new Error("Aura setting has invalid format");return t[n]=r,t}),{})}(n,a)})),t},J=function(e){return Object.keys(e).reduce((function(t,a){var n,r=e[a],i=(n=r,Object.keys(n).reduce((function(e,t){return e[t]=n[t],e}),{}));return t[a]=i,t}),{})},K=function(e,t,a){return Object.keys(e).reduce((function(n,r){var i=e[r],o=i.keybind,s=i.disabled,c=i.index;return n[r]={disabled:!!s},t&&o&&(n[r].keybind=o),a&&c&&(n[r].index=c),n}),{})},X=function(e){var t=J(e.abilitySettings),a=K(e.abilities,!0,!0),n={abilitySettings:t,auraSettings:e.auraSettings,abilityConfig:a};return G.Base64.encode(JSON.stringify(n))},$={live:{displayName:"Live",abilitySettings:Object(s.a)(Object(s.a)({},M),{},{"void-eruption":Object(s.a)(Object(s.a)({},M["void-eruption"]),{},{casttime:1500,resource:60}),"mind-blast":Object(s.a)(Object(s.a)({},M["mind-blast"]),{},{cooldown:9e3,resource:15,charges:2}),"shadow-word-death":Object(s.a)(Object(s.a)({},M["shadow-word-death"]),{},{charges:2})}),auraSettings:Object(s.a)({},F),abilities:{"mind-flay":{},"mind-sear":{},"void-bolt":{},"void-eruption":{},"mind-blast":{},"shadow-word-death":{disabled:!0},"void-torrent":{disabled:!0},"shadow-word-pain":{},"vampiric-touch":{},"devouring-plague":{disabled:!0},shadowfiend:{}}},alpha:{displayName:"Shadowlands Alpha",abilitySettings:Object(s.a)(Object(s.a)({},M),{},{"mind-blast":Object(s.a)(Object(s.a)({},M["mind-blast"]),{},{cooldown:8e3}),"shadow-word-death":Object(s.a)(Object(s.a)({},M["shadow-word-death"]),{},{cooldown:2e4,resource:0,hasted:!0})}),auraSettings:Object(s.a)({},F),abilities:{"mind-flay":{},"mind-sear":{},"void-bolt":{},"void-eruption":{},"mind-blast":{},"shadow-word-death":{},"void-torrent":{disabled:!0},"shadow-word-pain":{},"vampiric-touch":{},"devouring-plague":{},shadowfiend:{}}},legionENVoidlord:{displayName:"Legion: EN + Void Lord",abilitySettings:Object(s.a)(Object(s.a)({},M),{},{"void-eruption":{cooldown:0,type:"cast",casttime:2500,resource:90,costsResource:!0},"void-torrent":{cooldown:6e4,resource:0,type:"channel",casttime:4e3,staticCastTime:!0,ticks:10,requireVoidform:!0},shadowfiend:{cooldown:18e4,resource:0,type:"instant"}}),auraSettings:Object(s.a)(Object(s.a)({},F),{},{voidform:{displayName:"Voidform",drainStart:6,drainRate:.66,hasteStart:0,hasteStack:.01,maxStacks:0},lingeringInsanity:{displayName:"Lingering Insanity",type:"static",duration:8e3,afterVoidformEntry:!0,hasteRetention:1,decayRate:1e3,hasteDecay:.01},shadowfiend:{displayName:"Shadowfiend",baseDuration:15e3,ticks:10,resource:0}}),abilities:{"mind-flay":{},"mind-sear":{},"void-bolt":{},"void-eruption":{},"mind-blast":{},"shadow-word-death":{},"void-torrent":{},"shadow-word-pain":{},"vampiric-touch":{},"devouring-plague":{disabled:!0}}},legionAntorus:{displayName:"Legion: Antorus",abilitySettings:Object(s.a)(Object(s.a)({},M),{},{"void-eruption":{cooldown:0,type:"cast",casttime:1500,resource:65,costsResource:!0},"mind-blast":{cooldown:7500,resource:12,hasted:!0,type:"cast",casttime:1500,charges:2,cdr:1500},"void-torrent":{cooldown:6e4,resource:0,type:"channel",casttime:4e3,staticCastTime:!0,ticks:10,requireVoidform:!0},shadowfiend:{cooldown:6e4,resource:6,type:"instant"}}),auraSettings:Object(s.a)(Object(s.a)({},F),{},{stats:{displayName:"Stats",haste:.4},voidform:{displayName:"Voidform",drainStart:6,drainRate:.66,hasteStart:0,hasteStack:.01,maxStacks:0},lingeringInsanity:{displayName:"Lingering Insanity",type:"decay",duration:6e4,afterVoidformEntry:!1,hasteRetention:1,decayRate:1e3,hasteDecay:.01},shadowfiend:{displayName:"Shadowfiend",baseDuration:24e3,ticks:16,resource:6}}),abilities:{"mind-flay":{},"mind-sear":{disabled:!0},"void-bolt":{},"void-eruption":{},"mind-blast":{},"shadow-word-death":{},"void-torrent":{},"shadow-word-pain":{},"vampiric-touch":{},"devouring-plague":{disabled:!0},"power-infusion":{disabled:!0}}},ryeshot:{displayName:"Ryeshot's Shadowlands",abilitySettings:Object(s.a)(Object(s.a)({},M),{},{"void-bolt":Object(s.a)(Object(s.a)({},M["void-bolt"]),{},{resource:15}),"mind-blast":Object(s.a)(Object(s.a)({},M["mind-blast"]),{},{cooldown:7500,resource:25,charges:2,cdr:0}),"shadow-word-death":Object(s.a)(Object(s.a)({},M["shadow-word-death"]),{},{cooldown:2e4,resource:0,hasted:!0}),"devouring-plague":Object(s.a)(Object(s.a)({},M["devouring-plague"]),{},{resource:30})}),auraSettings:Object(s.a)(Object(s.a)({},F),{},{stats:Object(s.a)(Object(s.a)({},F.stats),{},{haste:.15}),voidform:Object(s.a)(Object(s.a)({},F.voidform),{},{drainRate:.66,hasteStart:.2,hasteStack:.01}),lingeringInsanity:Object(s.a)(Object(s.a)({},F.lingeringInsanity),{},{type:"static",duration:0}),"devouring-plague":Object(s.a)(Object(s.a)({},F["devouring-plague"]),{},{ticks:12,resource:3,hasted:!1})}),abilities:{"mind-flay":{},"mind-sear":{disabled:!0},"void-bolt":{},"void-eruption":{},"mind-blast":{},"shadow-word-death":{disabled:!0},"void-torrent":{disabled:!0},"shadow-word-pain":{},"vampiric-touch":{},"devouring-plague":{},shadowfiend:{disabled:!0},"power-infusion":{disabled:!0}}},yvaelle:{displayName:"Yvaelle's Shadowlands",abilitySettings:Object(s.a)(Object(s.a)({},M),{},{"void-eruption":Object(s.a)(Object(s.a)({},M["void-eruption"]),{},{resource:0}),"mind-blast":Object(s.a)(Object(s.a)({},M["mind-blast"]),{},{cooldown:7500,resource:15,charges:2})}),auraSettings:Object(s.a)(Object(s.a)({},F),{},{stats:Object(s.a)(Object(s.a)({},F.stats),{},{haste:.35}),voidform:Object(s.a)(Object(s.a)({},F.voidform),{},{drainStart:5,drainRate:0,hasteStart:.15,hasteStack:0,gainInsanity:!1}),lingeringInsanity:Object(s.a)(Object(s.a)({},F.lingeringInsanity),{},{type:"static",duration:0})}),abilities:{"mind-flay":{},"mind-sear":{disabled:!0},"void-bolt":{},"void-eruption":{},"mind-blast":{},"shadow-word-death":{disabled:!0},"void-torrent":{disabled:!0},"shadow-word-pain":{},"vampiric-touch":{},"devouring-plague":{disabled:!0},shadowfiend:{disabled:!0},"power-infusion":{disabled:!0}}}},Z=function(e){var t=e.onChange,a=e.selected;return r.a.createElement("div",{style:{width:"60%"}},r.a.createElement("select",{className:"panel-dropdown",value:a,onChange:t},r.a.createElement("option",{value:"default",disabled:!0},"Choose a template..."),Object.keys($).map((function(e){return r.a.createElement("option",{key:e,value:e},$[e].displayName)})),r.a.createElement("option",{key:"custom",value:"custom"},"Custom")))},Q=function(e){var t=e.settings,a=e.onImport,i=e.currentPanel,o=e.onClick,l=e.closePanel,u=Object(n.useState)(""),d=Object(c.a)(u,2),m=d[0],b=d[1],p=Object(n.useState)(""),h=Object(c.a)(p,2),f=h[0],v=h[1],y=Object(n.useState)(!1),E=Object(c.a)(y,2),g=E[0],T=E[1],O=Object(n.useState)(!1),N=Object(c.a)(O,2),S=N[0],w=N[1],A=Object(n.useState)("default"),C=Object(c.a)(A,2),k=C[0],j=C[1];return r.a.createElement(W,{panel:"export",currentPanel:i,reset:function(){b(""),v(""),T(!1),w(!1),j("default")},onClick:o,handleClose:l,header:"Import/Export Settings",panelClass:"left-panel",style:{transform:"translateX(".concat("export"===i?"0px":"-350px",")")}},r.a.createElement("div",{className:"vertical-panel-content"},r.a.createElement("div",{className:"panel-content-container"},r.a.createElement("div",{className:"panel-content-header"},"Import Settings"),r.a.createElement(Z,{selected:k,onChange:function(e){var t=e.target.value;if(j(t),"custom"!==t){var a=$[t],n=(a.displayName,Object(I.a)(a,["displayName"])),r=X(Object(s.a)({},n));v(r)}else v("")}}),r.a.createElement("textarea",{className:"panel-text-area",rows:20,cols:25,placeholder:"Import settings here...",value:f,onChange:function(e){var t=e.target.value;v(t)}}),r.a.createElement("div",{className:"panel-info-text-container"},r.a.createElement("label",null,"Include keybinds"),r.a.createElement("input",{type:"checkbox",onChange:function(){return T(!g)},checked:g})),r.a.createElement("div",{className:"panel-info-text-container"},r.a.createElement("label",null,"Include spell order"),r.a.createElement("input",{type:"checkbox",onChange:function(){return w(!S)},checked:S})),r.a.createElement("div",{className:"panel-button-container"},r.a.createElement("button",{className:"panel-button panel-input-button",onClick:function(){try{var e=function(e,t,a){try{var n=JSON.parse(G.Base64.decode(e));return{abilitySettings:z(n.abilitySettings),auraSettings:q(n.auraSettings),abilityConfig:K(n.abilityConfig,t,a)}}catch(r){throw new Error("An error occurred while parsing input data.\nReason: "+r.message)}}(f,g,S);a(e)}catch(t){console.error(t)}v("")},disabled:!f},"Import"))),r.a.createElement("div",{className:"panel-content-container"},r.a.createElement("div",{className:"panel-content-header"},"Export Settings"),r.a.createElement("textarea",{id:"export-content",className:"panel-text-area",rows:20,cols:25,value:m,readOnly:!0}),r.a.createElement("div",{className:"panel-button-container"},r.a.createElement("button",{className:"panel-button panel-input-button",onClick:function(){var e=X(t);b(e)}},"Export"),r.a.createElement("button",{className:"panel-button panel-input-button",onClick:function(){document.getElementById("export-content").select();try{document.execCommand("copy")}catch(e){}},disabled:!m},"Copy")))))},ee=a(3),te=function(e){var t=e.value,a=e.onChange,i=Object(n.useState)(t/1e3),o=Object(c.a)(i,2),s=o[0],l=o[1];return r.a.createElement("span",null,r.a.createElement("input",{className:"setting-option-input",type:"number",value:s,min:"0",step:".1",onChange:function(e){e.target.value&&(a(1e3*parseFloat(e.target.value)),l(e.target.value))}}),"sec")},ae=function(e){var t=e.value,a=e.onChange,n=e.unit;return r.a.createElement("span",null,r.a.createElement("input",{className:"setting-option-input",type:"number",value:t,min:"0",onChange:function(e){e.target.value&&a(parseInt(e.target.value))}})," ",n)},ne=function(e){var t=e.value,a=e.onChange,n=e.unit;return r.a.createElement("span",null,r.a.createElement("input",{className:"setting-option-input",type:"number",value:t,min:"0",step:".01",onChange:function(e){e.target.value&&a(parseFloat(e.target.value))}})," ",n)},re=function(e){var t=e.value,a=e.onChange,i=Object(n.useState)(100*t),o=Object(c.a)(i,2),s=o[0],l=o[1];return r.a.createElement("span",null,r.a.createElement("input",{className:"setting-option-input",type:"number",value:s,min:"0",step:".5",onChange:function(e){e.target.value&&(a(parseFloat(e.target.value)/100),l(e.target.value))}}),"%")},ie=function(e){var t=e.value,a=e.onChange;return r.a.createElement("input",{type:"checkbox",defaultChecked:t,onChange:function(e){a(e.target.checked)}})},oe=function(e){var t=e.value,a=e.onChange,n=e.name,i=e.options,o=function(e){a(e.target.value)};return i.map((function(e){return r.a.createElement("div",null,r.a.createElement("input",{type:"radio",id:e.value,name:n,value:e.value,defaultChecked:e.value===t,onChange:o}),r.a.createElement("label",{htmlFor:e.value},e.displayName))}))},se=Option=function(e,t,a,n,i,o){switch(e){case"time":return r.a.createElement(te,{key:n,value:t,onChange:a});case"number":return r.a.createElement(ae,Object.assign({key:n,value:t,onChange:a},o));case"float":return r.a.createElement(ne,Object.assign({key:n,value:t,onChange:a},o));case"percent":return r.a.createElement(re,{key:n,value:t,onChange:a});case"boolean":return r.a.createElement(ie,{key:n,value:t,onChange:a});case"select":return r.a.createElement(oe,Object.assign({key:n,value:t,name:i,onChange:a},o));default:return null}},ce=(a(17),a(18),function(e){var t=e.value,a=e.name,n=e.type,i=e.whatIs,o=e.displayName,s=e.onChange,c=e.onHelp,l=e.closeHelp,u=e.parentKey,d=Object(I.a)(e,["value","name","type","whatIs","displayName","onChange","onHelp","closeHelp","parentKey"]);return r.a.createElement("div",{className:"setting-option"},r.a.createElement("div",null,r.a.createElement("i",{className:"fa fa-question-circle what-is-icon",onMouseEnter:function(e){var t={x:e.target.offsetLeft,y:e.target.offsetTop};c(o,i,t)},onMouseLeave:l})),r.a.createElement("div",{className:"setting-option-header"},o),se(n,t,(function(e){s(a,e)}),u+"-input",a,d))}),le=function(e){var t=e.name,a=e.text,n=e.xPos,i=e.yPos,o={left:"".concat(n,"px"),top:"".concat(i+30,"px")};return r.a.createElement("div",{className:"what-is",style:o},r.a.createElement("div",{className:"what-is-header"},"What is... ",t,"?"),r.a.createElement("div",{className:"what-is-description"},a))},ue=function(e){var t=e.name,a=e.setting,i=e.options,o=e.onChange,l=Object(n.useState)(!1),u=Object(c.a)(l,2),d=u[0],m=u[1],b=Object(n.useState)({}),p=Object(c.a)(b,2),h=p[0],f=p[1],v=function(e,n){var r=Object(s.a)(Object(s.a)({},a),{},Object(ee.a)({},e,n));o(r,t)},y=function(e,t,a){m(!0),f({name:e,text:t,xPos:a.x,yPos:a.y})},E=function(){m(!1),f({})};return r.a.createElement("div",{className:"customize-section"},r.a.createElement("div",{className:"customoze-section-header"},a.displayName),i.map((function(e){return r.a.createElement(ce,Object.assign({},e,{key:"".concat(t,"-").concat(e.key),value:a[e.key],name:e.key,parentKey:"".concat(t,"-").concat(e.key),onChange:v,onHelp:y,closeHelp:E}))})),d?r.a.createElement(le,h):null)},de=function(e){var t=e.settings,a=e.currentPanel,i=e.didReset,o=e.onAbilitySet,l=e.onAuraSet,u=e.onClick,d=e.closePanel,m=t.abilities,b=t.auras,p="Changes pending...\nClick the button below to apply your changes",h=Object(n.useState)(m),f=Object(c.a)(h,2),v=f[0],y=f[1],E=Object(n.useState)(b),g=Object(c.a)(E,2),T=g[0],O=g[1],N=Object(n.useState)(null),S=Object(c.a)(N,2),w=S[0],A=S[1],C=Object(n.useState)(null),k=Object(c.a)(C,2),j=k[0],I=k[1],_=Object(n.useState)(!1),R=Object(c.a)(_,2),D=R[0],x=R[1],L=Object(n.useState)(!1),U=Object(c.a)(L,2),Y=U[0],V=U[1];Object(n.useEffect)((function(){O(b),y(m)}),[i]),Object(n.useEffect)((function(){"settings"===a&&(A(Object.keys(m)[0]),I(Object.keys(b)[0]))}),[a]);var H=function(e){var t=e.target.getAttribute("setting");A(t)},G=function(e){var t=e.target.getAttribute("setting");I(t)};return r.a.createElement(W,{panel:"settings",currentPanel:a,reset:function(){O(b),y(m),x(!1),V(!1),setTimeout((function(){A(null),I(null)}),500)},onClick:u,handleClose:d,header:"Custom Settings",panelClass:"right-panel",style:{transform:"translateX(".concat("settings"===a?"0px":"350px")}},r.a.createElement("div",{className:"vertical-panel-content"},r.a.createElement("div",{className:"panel-content-container"},r.a.createElement("div",{className:"panel-content-header"},"Customize Abilities"),r.a.createElement("div",{className:"settings-header-container"},Object.keys(m).filter((function(e){return P[e]})).map((function(e){return r.a.createElement("div",{key:e,className:w===e?"settings-header-active":"settings-header",setting:e,onClick:H},m[e].displayName)}))),w?r.a.createElement(ue,{name:w,setting:v[w],options:P[w],onChange:function(e,t){var a=Object(s.a)(Object(s.a)({},v),{},Object(ee.a)({},t,e));y(a),x(!0)}}):null,r.a.createElement("div",{className:"panel-text-button-container"},r.a.createElement("div",{className:"panel-info-text-container"},D?p:null),r.a.createElement("div",null,r.a.createElement("button",{className:"panel-button",onClick:function(){o(v),x(!1)}},"Update Abilities")))),r.a.createElement("div",{className:"panel-content-container"},r.a.createElement("div",{className:"panel-content-header"},"Customize Auras"),r.a.createElement("div",{className:"settings-header-container"},Object.keys(b).filter((function(e){return B[e]})).map((function(e){return r.a.createElement("div",{key:e,className:j===e?"settings-header-active":"settings-header",setting:e,onClick:G},b[e].displayName)}))),j?r.a.createElement(ue,{name:j,setting:T[j],options:B[j],onChange:function(e,t){var a=Object(s.a)(Object(s.a)({},T),{},Object(ee.a)({},t,e));O(a),V(!0)}}):null,r.a.createElement("div",{className:"panel-text-button-container"},r.a.createElement("div",{className:"panel-info-text-container"},Y?p:null),r.a.createElement("div",null,r.a.createElement("button",{className:"panel-button",onClick:function(){l(T),V(!1)}},"Update Auras"))))))},me=(a(37),function(e){var t=e.name,a=e.count,n=e.onChange,i=e.value;return r.a.createElement("div",null,r.a.createElement("select",{className:"panel-dropdown",value:i,onChange:function(e){n(parseInt(e.target.value),t)}},Object(u.a)(Array(a).keys()).map((function(e){return r.a.createElement("option",{key:"".concat(t,"-index-").concat(e),value:e+1},e+1)}))))}),be=function(e){var t=e.abilities,a=e.currentPanel,i=e.onKeybind,o=e.setOrder,s=e.onToggle,l=e.onClick,u=e.closePanel,d="",m="",b="",p=Object(n.useState)(d),h=Object(c.a)(p,2),f=h[0],v=h[1],y=Object(n.useState)(m),E=Object(c.a)(y,2),T=E[0],O=E[1],N=Object(n.useState)(b),S=Object(c.a)(N,2),w=S[0],A=S[1],C=Object(n.useState)(Object.keys(t).length-1),k=Object(c.a)(C,1)[0],j=Object(n.useRef)(w);j.current=w;var I=function(e){v(e.target.alt)},_=function(){v("")},R=function(e){var a=e.target.getAttribute("ability");A(a),O("Press any key to bind to ".concat(t[a].displayName)),document.addEventListener("keydown",D,{once:!0}),document.addEventListener("keypress",x,{once:!0})},D=function(e){var t=e.key;L(t)&&(e.preventDefault(),U(t))},x=function(e){return U(e.key)},L=function(e){return!!e.match(/F[1-9]{1,2}/)},U=function(e){document.removeEventListener("keypress",x);var a=function(e){return g[e]?{key:e,keybindText:g[e]}:e.match(/^[a-z]$/)?{key:e,keybindText:e.toUpperCase()}:e.match(/^[A-Z]$/)?{key:e,keybindText:"S-"+e}:{key:e,keybindText:e}}(e),n=j.current;i(a,n),O("".concat(t[n].displayName," successfuly bound to ").concat(a.keybindText))};return r.a.createElement(W,{panel:"abilitykeybinds",currentPanel:a,reset:function(){document.removeEventListener("keydown",D),document.removeEventListener("keypress",x),v(d),O(m),A(b)},onClick:l,header:"Ability and Keybinds",style:{transform:"translateY(".concat("abilitykeybinds"===a?"0px":"250px")},panelClass:"bottom-panel",handleClose:function(){v(d),O(m),A(b),u()}},r.a.createElement("div",{className:"horizontal-panel-content"},r.a.createElement("div",{className:"panel-content-header"},"Change Abilities and Keybinds"),r.a.createElement("div",{className:"tooltip"},r.a.createElement("span",{className:"tooltip-text",visibility:(!!f).toString()},f)),r.a.createElement("div",{className:"panel-abilities-content"},r.a.createElement("div",{className:"panel-abilities-header"},"Spell Order"),r.a.createElement("div",{className:"panel-abilities-container"},Object.keys(t).map((function(e){if("void-eruption"!==e)return r.a.createElement("div",{className:"panel-ability-container",key:e},r.a.createElement("img",{className:"hover-pointer",alt:t[e].displayName,ability:e,onMouseOver:I,onMouseOut:_,onClick:R,src:t[e].icon,height:50,width:50}),r.a.createElement("button",{className:"".concat(t[e].disabled?"panel-button-secondary":"panel-button"),onClick:function(){return s(e)}},t[e].disabled?"Enable":"Disable"),r.a.createElement(me,{name:e,count:k,value:t[e].index,onChange:o}))})))),r.a.createElement("div",null,T||null)))},pe=function(e){var t=e.currentPanel,a=e.onClick,n=e.closePanel;return r.a.createElement(W,{panel:"about",onClick:a,handleClose:n,header:"About",panelClass:"middle-panel",style:{transform:"translateY(".concat("about"===t?"0px":"min(-685px,-70vh)")}},r.a.createElement("div",{className:"middle-panel-content"},r.a.createElement("div",{className:"panel-content-header"},"About"),r.a.createElement("div",{className:"medium-text left-text panel-text-content"},r.a.createElement("p",null,"Voidform Optimizer is a thought experiment I had."),r.a.createElement("p",null,"I am convinced that many, although not all, players' grievances with Voidform are caused by the implementations of Voidform they have experienced, and not by the design of Voidform itself. Therefore I have made it my mission to allow others to experience Voidform in a myriad of ways; in hope that they realize it isn't inherently flawed, find what they most enjoy about it, and share those findings with others. Then, just maybe, as a community we can come to an agreement on how to ",r.a.createElement("b",null,"#savevoidform"),"."),r.a.createElement("p",null,"If you have any questions, feedback, or bugs to report, please feel free to DM me on Discord at Shot#1711."))))},he=(a(19),[{header:"New Template: Yvaelle's Shadowlands",description:"Yvaelle had an interesting proposal for a static Voidform, so I decided to include support for it and created a template         based on their proposal."},{header:"New Ability: Bloodlust!",description:"Let's be honest, it's hard to determine how Shadow truly feels until you feel it under lust. Luckily, Bloodlust has now         been added so you can have the true Shadow experience. The ability works the same way on live (without the debuff), and is not customizable."},{header:"New Template: Ryeshot's Shadowlands",description:"This template reflects what I think the healthiest version of baseline Shadow looks like going into Shadowlands.         It will be updated regularly as I refine my beliefs on what is best for the spec."},{header:"Void Bolt Rank Two Removed!",description:"Void Bolt rank two has been removed from the alpha, and therefore is no longer part of the alpha template or a         customizable option for Void Bolt. Good riddance."},{header:"New Domain!",description:"Voidform Optimizer is now registered at voidform-optimizer.com."},{header:"Function Key Binding",description:"Due to popular demand, function keys are now a valid keybind option. Just make sure to unbind should you wish to         perform any browser function key events (such as refreshing the page), since the settings will override that default behavior."},{header:"Spell Ordering!",description:"You can now manually set the order of spells shown through the keybinds panel. You can also preserve these changes         by toggling include spell order while importing a template."},{header:"Power Infusion!",description:"Customizable Power Infusion ability has been added! The ability's cooldown may be changed         and the aura's duration and resource generation can be changed. If desired, you can create alpha StM, Lucid,         and Legion Power Infusion from these settings."},{header:"Legion Templates!",description:"New templates to satiate your Legion nostalgia. More to come in the future."},{header:"Shadowfiend",description:"Customizable Shadowfiend ability has been added!"},{header:"Templates",description:"Premade templates may now be selected on import panel!"},{header:"Devouring Plague",description:"The recent Shadowlands Devouring Plague addition is now available to try out!"},{header:"What's New?",description:"Added a what's new dialogue to inform about recent changes to Voidform Optimizer."}]),fe={textAlign:"left",marginBottom:"20px"},ve={fontSize:"15px"},ye={fontSize:"20px"},Ee=function(e){var t=e.onClose;return r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"modal-content panel"},r.a.createElement("div",{className:"form-title"},"What's New"),r.a.createElement("div",null,he.map((function(e){return r.a.createElement("div",{style:fe},r.a.createElement("b",{style:ye},e.header),r.a.createElement("div",{style:ve},e.description))}))),r.a.createElement("div",null,r.a.createElement("button",{className:"panel-button",onClick:t},"Got it!")),r.a.createElement("button",{className:"panel-button panel-exit-button",onClick:t},"x")))},ge=function(){var e=Object(n.useState)(!1),t=Object(c.a)(e,2),a=t[0],i=t[1];return r.a.createElement("div",null,r.a.createElement("div",{className:"panel-header hover-pointer",onClick:function(){return i(!0)}},"What's New"),a?r.a.createElement(Ee,{onClose:function(){return i(!1)}}):null)},Te={"mind-flay":{displayName:"Mind Flay",index:1,keybind:{key:"1",keybindText:"1"},icon:"images/mind-flay.jpg"},"mind-sear":{displayName:"Mind Sear",index:2,keybind:{key:"2",keybindText:"2"},icon:"images/mind-sear.jpg"},"mind-blast":{displayName:"Mind Blast",index:3,keybind:{key:"3",keybindText:"3"},icon:"images/mind-blast.jpg"},"void-bolt":{displayName:"Void Bolt",index:4,keybind:{key:"4",keybindText:"4"},icon:"images/void-bolt.jpg"},"void-eruption":{displayName:"Void Eruption",index:4,keybind:{key:"4",keybindText:"4"},icon:"images/void-eruption.jpg"},"shadow-word-death":{displayName:"Shadow Word: Death",index:5,keybind:{key:"5",keybindText:"5"},icon:"images/shadow-word-death.jpg"},"void-torrent":{displayName:"Void Torrent",index:6,keybind:{key:"6",keybindText:"6"},icon:"images/void-torrent.jpg"},"shadow-word-pain":{displayName:"Shadow Word: Pain",index:7,keybind:{key:"7",keybindText:"7"},icon:"images/shadow-word-pain.jpg"},"vampiric-touch":{displayName:"Vampiric Touch",index:8,keybind:{key:"8",keybindText:"8"},icon:"images/vampiric-touch.jpg"},"devouring-plague":{displayName:"Devouring Plague",index:9,keybind:{key:"9",keybindText:"9"},icon:"images/devouring-plague.jpg"},shadowfiend:{displayName:"Shadowfiend",index:10,keybind:{key:"0",keybindText:"0"},icon:"images/shadowfiend.jpg"},"power-infusion":{displayName:"Power Infusion",index:11,keybind:{key:"-",keybindText:"-"},icon:"images/power-infusion.jpg"},bloodlust:{displayName:"Bloodlust",index:12,keybind:{key:"=",keybindText:"="},icon:"images/bloodlust.jpg"}},Oe=function(e){var t=e.value,a=e.id,n=e.label,i=e.className,o=e.placeHolder,s=e.onChange;return r.a.createElement("div",{className:"form-field ".concat(i)},r.a.createElement("label",{htmlFor:a},n),r.a.createElement("div",null,r.a.createElement("textarea",{className:"panel-text-area form-input-container",id:a,value:t,placeholder:o,required:!0,onChange:function(e){return s(a,e.target.value)}})))},Ne=function(e){var t=e.value,a=e.id,n=e.label,i=e.placeHolder,o=e.onChange,s=e.required;return r.a.createElement("div",{className:"form-field"},r.a.createElement("label",{className:"form-input-title",htmlFor:a},n),r.a.createElement("input",{className:"panel-text-area form-input",type:"text",id:a,value:t,placeholder:i,required:s,onChange:function(e){return o(a,e.target.value)}}))},Se=a(10),we=a.n(Se),Ae=a(15),Ce=window.Email,ke=function(e){var t=["<h3>Give a brief description of the issue</h3>","<h3>What is the expected behavior?</h3>","<h3>What is the actual behavior?</h3>","<h3>Contact Information</h3>"];return"<h1>Bug Report for Voidform Optimizer</h1>\n"+Object.keys(e).reduce((function(a,n,r){return e[n]?a.concat([t[r],e[n]]):a}),[]).join("\n")},je=function(){var e=Object(Ae.a)(we.a.mark((function e(t,a){var n,r;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={SecureToken:"bc7171e6-2cf7-4f90-b6eb-faa890bc0e79",From:"ryeshot.dev.notifications@gmail.com",To:"ryanbosteder@gmail.com",Subject:t,Body:a},e.next=3,Ce.send(n);case 3:if("OK"===(r=e.sent)){e.next=6;break}throw new Error(r);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(Ae.a)(we.a.mark((function e(t,a,n){var r,i,o;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.title,i=Object(I.a)(t,["title"]),o=ke(i),e.prev=2,e.next=5,je("[BUG] ".concat(r),o);case 5:a(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0),n();case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,a,n){return e.apply(this,arguments)}}(),_e=[{id:"bug-report-description",label:"Description",className:"form-field-small"},{id:"bug-report-expected",label:"Expected Behavior",className:"form-field-medium"},{id:"bug-report-actual",label:"Actual Behavior",className:"form-field-medium"}],Re={id:"title",label:"Title"},De={id:"contact",label:"Contact (Optional)"},xe=function(e){var t=e.closeForm,a=Object(n.useState)({}),i=Object(c.a)(a,2),o=i[0],l=i[1],u=Object(n.useState)(!0),d=Object(c.a)(u,2),m=d[0],b=d[1],p=Object(n.useState)(""),h=Object(c.a)(p,2),f=h[0],v=h[1],y=function(e,t){l(Object(s.a)(Object(s.a)({},o),{},Object(ee.a)({},e,t)))};return r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"modal-content panel"},r.a.createElement("div",{className:"form-title"},"Bug Report"),r.a.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault();var t=function(e,t){var a=1;return t(e),setInterval((function(){var n=a%4;t("".concat(e).concat(".".repeat(n))),a++}),500)}("Submitting",v);Ie(o,(function(){clearInterval(t),v("Bug report successfully submitted!")}),(function(){clearInterval(t),v("Failed to submit bug report")})),b(!1)}},r.a.createElement("div",{className:"form-info"},"If the issue is UI related, please update your browser to the latest version before submitting."),r.a.createElement(Ne,Object.assign({value:o.title},Re,{required:!0,onChange:y})),_e.map((function(e){return r.a.createElement(Oe,Object.assign({key:e.id,value:o[e.id]},e,{onChange:y}))})),r.a.createElement(Ne,Object.assign({value:o.contact},De,{required:!1,onChange:y})),r.a.createElement("div",null,r.a.createElement("input",{className:"panel-button",type:"submit",value:"Submit",disabled:!m}))),r.a.createElement("div",null,f),r.a.createElement("button",{className:"panel-button panel-exit-button",onClick:t},"x")))},Le=function(e){var t=e.closeForm;return r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"modal-content panel"},"Coming soon!",r.a.createElement("button",{className:"panel-button panel-exit-button",onClick:t},"x")))},Ue=function(e){var t=e.pauseKeyEvents,a=Object(n.useState)(!1),i=Object(c.a)(a,2),o=i[0],s=i[1],l=Object(n.useState)(!1),u=Object(c.a)(l,2),d=u[0],m=u[1],b=function(e,a){t(a),e(a)};return r.a.createElement("div",{className:"forms-container"},r.a.createElement("div",null,r.a.createElement("button",{className:"panel-button",onClick:function(){return b(s,!0)}},"Report a Bug"),r.a.createElement("button",{className:"panel-button",onClick:function(){return b(m,!0)}},"Request a Feature")),o?r.a.createElement(xe,{closeForm:function(){return b(s,!1)}}):null,d?r.a.createElement(Le,{closeForm:function(){return b(m,!1)}}):null)},Pe={resource:0,auras:{stats:{haste:0},voidform:{active:!1,stacks:0,haste:0,paused:!1},lingeringInsanity:{active:!1,stacks:0,haste:0},"shadow-word-pain":{active:!1},"vampiric-touch":{active:!1},"devouring-plague":{active:!1},shadowfiend:{active:!1},"power-infusion":{active:!1,haste:0},bloodlust:{active:!1,haste:0}},abilities:{"void-eruption":{unusable:!0},"devouring-plague":{unusable:!0},"void-torrent":{unusable:M["void-torrent"].requireVoidform}}},Be=function(){var e=Object(n.useState)(),t=Object(c.a)(e,2),a=t[0],i=t[1],o=Object(n.useState)(M),u=Object(c.a)(o,2),d=u[0],m=u[1],b=Object(n.useState)(Te),p=Object(c.a)(b,2),h=p[0],f=p[1],v=Object(n.useState)(F),y=Object(c.a)(v,2),E=y[0],g=y[1],T=Object(n.useState)(!1),O=Object(c.a)(T,2),N=O[0],S=O[1],w=Object(n.useState)(!1),A=Object(c.a)(w,2),C=A[0],k=A[1],I=Object(n.useState)(!1),_=Object(c.a)(I,2),R=_[0],D=_[1],x=Object(n.useState)(0),L=Object(c.a)(x,2),U=L[0],P=L[1],B=Object(n.useReducer)((function(e,t){var a=t.type,n=JSON.parse(JSON.stringify(e)),r=n.auras.voidform,i=n.auras.lingeringInsanity,o=n.auras["power-infusion"];switch(a){case"RESET":return Pe;case"RESET_ABILITIES":return Object(s.a)(Object(s.a)({},Pe),{},{auras:e.auras});case"RESET_AURAS":return Object(s.a)(Object(s.a)({},n),{},{auras:Object(s.a)(Object(s.a)({},Pe.auras),{},{stats:e.auras.stats})});case"UPDATE_ABILITY_STATE":n.abilities["void-torrent"].unusable=d["void-torrent"].requireVoidform;break;case"HASTE_SET":var c=t.payload,l=c.source,u=c.haste;n.auras[l].haste=u;break;case"HASTE_UPDATE":var m=t.payload;l=m.source,u=m.haste;n.auras[l].haste+=u;break;case"HASTE_RESET":l=t.payload.source;n.auras[l].haste=0;break;case"VOIDFORM_UPDATE":r.stacks++,r.haste+=t.payload;break;case"VOIDFORM_START":r.active=!0,r.stacks=1,d["void-torrent"].requireVoidform&&(n.abilities["void-torrent"].unusable=!1);break;case"VOIDFORM_END":var b=t.payload,p=b.time,h=b.startingHaste;i.active=!0,i.stacks=r.stacks,i.haste=Math.round(1e3*(r.haste-h))/1e3,i.startTime=p,r.stacks=0,r.haste=0,n.abilities["void-eruption"].unusable=!0,n.abilities["void-torrent"].unusable=d["void-torrent"].requireVoidform;break;case"LINGERING_INSANITY_START":var f=t.payload,v=(u=f.haste,f.stacks);i.haste=u,i.stacks=v;break;case"LINGERING_INSANITY_UPDATE":i.haste+=t.payload,i.stacks--,i.haste<=0&&(i.haste=0);break;case"LINGERING_INSANITY_END":i.active=!1,i.stacks=0,i.haste=0,i.startTime=0;break;case"RESOURCE_UPDATE":var y=t.payload,g=y.name,T=y.resource,O=y.costsResource,N="mind-sear"===g?d[g].targetCount:1;T=T*(O?-1:1)*N,r.active&&!E.voidform.gainInsanity&&T>0&&(T=0),o.active&&T>0&&(T+=T*E["power-infusion"].resourceGen),T=Math.max(Math.min(n.resource+T,100),0),n.resource=T,T<=0&&r.active&&(r.active=!1),Object.keys(d).forEach((function(e){var t=d[e];t.costsResource&&(n.abilities[e].unusable=T<t.resource)}));break;case"INSANITY_DRAIN_PAUSE_START":r.paused=!0;break;case"INSANITY_DRAIN_PAUSE_END":r.paused=!1;break;case"AURA_START":var S=t.payload,w=(g=S.name,p=S.time,n.auras[g]);w.active?function(e,t,a){var n=e.startTime+e.maxDuration-a,r=Math.min(.3*t,n);e.maxDuration=t+r,e.startTime=a}(w,E[g].baseDuration,p):w.active=!0;break;case"AURA_BEGIN":var A=t.payload,C=(g=A.name,p=A.time,A.duration);n.auras[g].startTime=p,n.auras[g].maxDuration=C;break;case"AURA_REFRESH":var k=t.payload;g=k.name,p=k.time;n.auras[g].startTime=p;break;case"AURA_END":g=t.payload.name;n.auras[g].active=!1,n.auras[g].startTime=0;break;case"DOT_EXTEND":var j=d["void-bolt"].extension;["shadow-word-pain","vampiric-touch"].forEach((function(e){var t=n.auras[e];t.active&&(t.maxDuration+=j)}))}return n}),Pe),Y=Object(c.a)(B,2),V=Y[0],W=Y[1];Object(n.useEffect)((function(){P(G)}),[V.auras.stats.haste,V.auras.voidform.haste,V.auras.lingeringInsanity.haste,V.auras["power-infusion"].haste,V.auras.bloodlust.haste]);var G=function(){var e=V.auras;return Object.keys(e).reduce((function(t,a){return e[a].haste?t*(1+e[a].haste):t}),1)},z=function(e){S(!0),i(e)},q=function(){S(!1),i(null)},J=function(e){var t=Object.keys(h).reduce((function(t,a){return t[a]=Object(s.a)(Object(s.a)({},h[a]),e[a]),t}),{});f(t)},K=function(e){g(e),Z();var t=e.stats.haste;W({type:"HASTE_SET",payload:{source:"stats",haste:t}})},X=function(e){m(e),$()},$=function(){W({type:"RESET_ABILITIES"}),W({type:"RESOURCE_UPDATE",payload:{resource:0}}),W({type:"UPDATE_ABILITY_STATE"}),D(!R)},Z=function(){W({type:"RESET_AURAS"}),setTimeout((function(){W({type:"LINGERING_INSANITY_END"})}),0)},ee=function(){Z(),$(),k(!C)};return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header header-panel"},r.a.createElement("div",{className:"App-title"},r.a.createElement("div",{className:"App-title-text"},"Voidform Optimizer")),r.a.createElement("div",{className:"panel-container"},r.a.createElement(de,{settings:{abilities:Object.keys(d).reduce((function(e,t){return e[t]=Object(s.a)(Object(s.a)({},d[t]),{},{displayName:Te[t].displayName}),e}),{}),auras:E},didReset:C,onAbilitySet:X,onAuraSet:K,currentPanel:a,onClick:z,closePanel:q}),r.a.createElement(be,{abilities:h,currentPanel:a,onKeybind:function(e,t){var a=JSON.parse(JSON.stringify(h)),n=e.key,r="void-bolt"===t||"void-eruption"===t;Object.keys(a).forEach((function(e){a[e].keybind.key===n&&(a[e].keybind={keybindText:"--"})})),r?(a["void-bolt"].keybind=Object(s.a)({},e),a["void-eruption"].keybind=Object(s.a)({},e)):a[t].keybind=Object(s.a)({},e),f(a)},setOrder:function(e,t){var a=JSON.parse(JSON.stringify(h)),n=a[t],r=n.index,i=e<r?"right":"left",o="void-bolt"===t||"void-eruption"===t;Object.keys(a).forEach((function(t){var n=a[t].index;"right"===i&&n>=e&&n<r&&a[t].index++,"left"===i&&n<=e&&n>r&&a[t].index--})),o?(a["void-bolt"].index=e,a["void-eruption"].index=e):n.index=e,f(a)},onToggle:function(e){var t=JSON.parse(JSON.stringify(h));t[e].disabled=!t[e].disabled,"void-bolt"===e&&(t["void-eruption"].disabled=t[e].disabled),f(t)},onClick:z,closePanel:q}),r.a.createElement(Q,{settings:{abilitySettings:d,auraSettings:E,abilities:h},onImport:function(e){J(e.abilityConfig),X(e.abilitySettings),K(e.auraSettings),ee()},currentPanel:a,onClick:z,closePanel:q}),r.a.createElement(pe,{currentPanel:a,onClick:z,closePanel:q}),r.a.createElement(ge,null)),r.a.createElement(Ue,{pauseKeyEvents:S})),r.a.createElement("div",{className:"App-content"},r.a.createElement(H,{auras:V.auras,settings:E,haste:U,triggerEvent:W}),r.a.createElement(l,{current:V.resource,max:100}),r.a.createElement(j,{abilitySettings:d,abilities:Object.keys(h).reduce((function(e,t){return e[t]=Object(s.a)(Object(s.a)({},h[t]),V.abilities[t]),e}),{}),haste:U,inVoidform:V.auras.voidform.active,triggerEvent:W,keyEventsPaused:N,reset:R}),r.a.createElement("button",{className:"panel-button",onClick:ee},"Reset")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ye=a(22);a.n(Ye).a.config(),o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Be,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[23,1,2]]]);
//# sourceMappingURL=main.04a45191.chunk.js.map