(this["webpackJsonpvoidform-optimizer"]=this["webpackJsonpvoidform-optimizer"]||[]).push([[0],[,,,,,,,,,function(e,t,a){},,,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,function(e,t,a){e.exports=a(59)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(35),o=a.n(i),s=(a(43),a(14)),c=a(3),l=a(1),u=a(2),d=(a(44),a(45),function(e){var t=e.max,a=e.current;e.voidform;return r.a.createElement("div",{className:"progress-bar-container"},r.a.createElement("div",{className:"progress-text"},(a/t*100).toFixed(0)),r.a.createElement("div",{className:"progress-bar resource-bar",style:{width:"".concat((a/t*100).toFixed(2),"%")}}))}),m=a(17),h=(a(46),a(47),function(e){var t=e.size,a=e.progress,n=e.inverse,i=2*t,o=2*t-i/2,s=2*o*Math.PI;return r.a.createElement("svg",{width:t,height:t},r.a.createElement("circle",{fill:"transparent",strokeWidth:i,strokeOpacity:.7,strokeDasharray:s+" "+s,strokeDashoffset:n?(a?0:s)+(a||0)*s:s+(a||0)*s,stroke:"rgb(0,0,0)",cx:t/2,cy:t/2,r:o}))}),p=a(21),b=a(20),f=a(11),y=a(12),v={CAST:["ABILITY_CAST_SUCCESS","ABILITY_COOLDOWN_START","ABILITY_COOLDOWN_END","ABILITY_CAST_START","ABILITY_CHANNEL_START","ABILITY_CHANNEL_UPDATE","ABILITY_CHANNEL_END"],RESOURCE:["RESOURCE_UPDATE","INSANITY_DRAIN_PAUSE_START","INSANITY_DRAIN_PAUSE_END"],AURA:["VOIDFORM_START","VOIDFORM_UPDATE","VOIDFORM_END","LINGERING_INSANITY_START","LINGERING_INSANITY_UPDATE","LINGERING_INSANITY_END","AURA_START","AURA_BEGIN","AURA_END","DOT_EXTEND"],STAT:["HASTE_UPDATE","HASTE_RESET"]},g={"void-bolt":{onEvent:{COOLDOWN_START:["ABILITY_COOLDOWN_START"],COOLDOWN_END:["ABILITY_COOLDOWN_END"],CAST_SUCCESS:["ABILITY_CAST_SUCCESS","RESOURCE_UPDATE","DOT_EXTEND"]}},"mind-flay":{onEvent:{COOLDOWN_START:[],COOLDOWN_END:[],CHANNEL_START:["ABILITY_CHANNEL_START"],CHANNEL_UPDATE:["ABILITY_CHANNEL_UPDATE","RESOURCE_UPDATE"],CHANNEL_END:["ABILITY_CHANNEL_END"]}},"mind-sear":{onEvent:{COOLDOWN_START:[],COOLDOWN_END:[],CHANNEL_START:["ABILITY_CHANNEL_START"],CHANNEL_UPDATE:["ABILITY_CHANNEL_UPDATE","RESOURCE_UPDATE"],CHANNEL_END:["ABILITY_CHANNEL_END"]}},"void-eruption":{onEvent:{CAST_START:["ABILITY_CAST_START"],CAST_SUCCESS:["ABILITY_CAST_SUCCESS","VOIDFORM_START"],COOLDOWN_START:["ABILITY_COOLDOWN_START"],COOLDOWN_END:["ABILITY_COOLDOWN_END"]}},"mind-blast":{onEvent:{CAST_START:["ABILITY_CAST_START"],CAST_SUCCESS:["ABILITY_CAST_SUCCESS","RESOURCE_UPDATE"],COOLDOWN_START:["ABILITY_COOLDOWN_START"],COOLDOWN_END:["ABILITY_COOLDOWN_END"]}},"shadow-word-death":{onEvent:{COOLDOWN_START:["ABILITY_COOLDOWN_START"],COOLDOWN_END:["ABILITY_COOLDOWN_END"],CAST_SUCCESS:["ABILITY_CAST_SUCCESS","RESOURCE_UPDATE"]}},"void-torrent":{onEvent:{COOLDOWN_START:["ABILITY_COOLDOWN_START"],COOLDOWN_END:["ABILITY_COOLDOWN_END"],CHANNEL_START:["ABILITY_CHANNEL_START","INSANITY_DRAIN_PAUSE_START"],CHANNEL_UPDATE:["RESOURCE_UPDATE"],CHANNEL_END:["ABILITY_CHANNEL_END","INSANITY_DRAIN_PAUSE_END"]}},"shadow-word-pain":{onEvent:{CAST_SUCCESS:["ABILITY_CAST_SUCCESS","AURA_START","RESOURCE_UPDATE"]}},"vampiric-touch":{onEvent:{CAST_START:["ABILITY_CAST_START"],CAST_SUCCESS:["ABILITY_CAST_SUCCESS","AURA_START","RESOURCE_UPDATE"]}},"devouring-plague":{onEvent:{CAST_START:["ABILITY_CAST_START"],CAST_SUCCESS:["ABILITY_CAST_SUCCESS","AURA_START","RESOURCE_UPDATE"]}},shadowfiend:{onEvent:{COOLDOWN_START:["ABILITY_COOLDOWN_START"],COOLDOWN_END:["ABILITY_COOLDOWN_END"],CAST_SUCCESS:["ABILITY_CAST_SUCCESS","AURA_START","RESOURCE_UPDATE"]}},"power-infusion":{onEvent:{COOLDOWN_START:["ABILITY_COOLDOWN_START"],COOLDOWN_END:["ABILITY_COOLDOWN_END"],CAST_SUCCESS:["ABILITY_CAST_SUCCESS","AURA_START"]}},bloodlust:{onEvent:{COOLDOWN_START:["ABILITY_COOLDOWN_START"],COOLDOWN_END:["ABILITY_COOLDOWN_END"],CAST_SUCCESS:["ABILITY_CAST_SUCCESS","AURA_START"]}}},E={voidform:{onEvent:{AURA_START:[""],AURA_UPDATE:[],AURA_TIME_UPDATE:[],AURA_END:[]}},lingeringInsanity:{onEvent:{AURA_START:[],AURA_UPDATE:[],AURA_TIME_UPDATE:[],AURA_END:[]}},"shadow-word-pain":{onEvent:{AURA_START:[],AURA_UPDATE:[],AURA_TIME_UPDATE:[],AURA_END:[]}},"vampiric-touch":{onEvent:{AURA_START:[],AURA_UPDATE:[],AURA_TIME_UPDATE:[],AURA_END:[]}},"power-infusion":{onEvent:{AURA_START:["AURA_BEGIN","HASTE_UPDATE"],AURA_END:["AURA_END","HASTE_RESET"]}},bloodlust:{onEvent:{AURA_START:["AURA_BEGIN","HASTE_UPDATE"],AURA_END:["AURA_END","HASTE_RESET"]}}},T=function(){function e(t,a){Object(f.a)(this,e),this.eventTriggers=t,this.events=a}return Object(y.a)(e,[{key:"handleEvent",value:function(e,t){var a=this;this.events[e]&&this.events[e].forEach((function(e){return a.eventTriggers[e]({type:e,payload:t})}))}}]),e}(),O={"!":"S-1","@":"S-2","#":"S-3",$:"S-4","%":"S-5","^":"S-6","&":"S-7","*":"S-8","(":"S-9",")":"S-0"," ":"SPC"},w=function(){function e(t,a,n,r){Object(f.a)(this,e),this.state=t,this.updateState=a,this.onExecute=t.ignoreGcd?function(){}:n,this.eventHandler=r,this.updateState({progress:0,charges:t.charges.maxCharges||1})}return Object(y.a)(e,[{key:"getCurrentState",value:function(){var e={},t=this.state;return Object.keys(t).forEach((function(a){var n=t[a];if("object"===typeof n){var r={};Object.keys(n).forEach((function(e){var t=n[e];"undefined"!==t&&(r[e]="object"!==typeof t?t:t.current)})),e[a]=r}else e[a]=n})),e}},{key:"getRemainingCooldown",value:function(){var e=Date.now(),t=this.state.cooldown.startTime.current,a=t?this.state.cooldown.duration.current:0;return 0===this.state.charges.current.current?(t||e)+a-e:0}},{key:"startCooldown",value:function(){var e=this,t=this.getCurrentState(),a=t.name,n=t.charges.maxCharges;this.cooldownTimer=setInterval((function(){var t=Date.now(),r=e.state.cooldown.duration.current,i=e.state.cooldown.startTime.current||t,o=e.state.charges.current.current,s=i+r-t;if(s<=20)return e.updateState((function(e){return Object(l.a)(Object(l.a)({},e),{},{charges:o+1})})),clearInterval(e.cooldownTimer),n&&o<n-1?void e.startCooldown():(e.eventHandler.handleEvent("COOLDOWN_END",{name:a}),void e.updateState((function(e){return Object(l.a)(Object(l.a)({},e),{},{progress:0})})));e.updateState((function(e){return Object(l.a)(Object(l.a)({},e),{},{progress:s/r})}))}),20),this.eventHandler.handleEvent("COOLDOWN_START",{name:a,time:Date.now()})}},{key:"startCast",value:function(){var e=this,t=this.getCurrentState(),a=t.name,n=t.displayName,r=t.resource,i=t.costsResource,o=t.cast.duration;this.castTimer=setTimeout((function(){e.eventHandler.handleEvent("CAST_SUCCESS",{name:a,resource:r,costsResource:i,time:Date.now()});var t=e.state.cooldown.duration.current,n=e.state.cooldown.startTime.current,o=e.state.charges.current.current;if(t){if(e.updateState((function(e){return Object(l.a)(Object(l.a)({},e),{},{charges:o-1})})),n)return;e.startCooldown()}}),o),this.eventHandler.handleEvent("CAST_START",{name:a,displayName:n,duration:o,time:Date.now()})}},{key:"startChannel",value:function(){var e=this,t=this.getCurrentState(),a=t.cast,n=a.startTime,r=a.endTime,i=a.duration,o=t.channel,s=o.baseDuration,c=o.baseTicks,l=o.ticks,u=t.name,d=t.displayName,m=t.resource,h=t.globalCooldown.duration,p=Date.now(),b=0,f=c;if(n){clearInterval(this.channelTimer);var y=r-n-(p-n),v=Math.floor(c*((s-h)/s));b=Math.min(y,.3*s),f+=Math.min(l,v)}var g=Math.round((i+b)/f);this.channelTimer=setInterval((function(){var t=Date.now(),a=e.state.cast.endTime.current,n=1===e.state.channel.ticks.current&&b?.3:1;return a?(e.eventHandler.handleEvent("CHANNEL_UPDATE",{resource:m/c*n,name:u}),t>=a?(clearInterval(e.channelTimer),void e.eventHandler.handleEvent("CHANNEL_END",{name:u})):void 0):(clearInterval(e.channelTimer),void e.eventHandler.handleEvent("CHANNEL_END",{name:u}))}),g),this.eventHandler.handleEvent("CHANNEL_START",{name:u,displayName:d,duration:i+b,time:p,baseChannelTime:i,currentTicks:f})}},{key:"beginGlobalCooldown",value:function(){var e=this,t=this.getCurrentState(),a=t.globalCooldown,n=a.duration,r=a.startTime,i=t.charges,o=i.current,s=i.maxCharges;if(!t.ignoreGcd){if(t.cooldown.startTime){if(s&&o<s-1)return;if(t.cooldown.startTime+t.cooldown.duration-r>n)return}this.globalCooldownTimer=setInterval((function(){var t=Date.now(),a=r+n-t;if(a<=20)return clearInterval(e.globalCooldownTimer),void e.updateState((function(e){return Object(l.a)(Object(l.a)({},e),{},{progress:0})}));e.state.cooldown.startTime.current||e.updateState((function(e){return Object(l.a)(Object(l.a)({},e),{},{progress:a/n})}))}),20)}}},{key:"canExecute",value:function(){return!this.state.disabled.current&&!this.state.unusable.current}},{key:"remove",value:function(){clearInterval(this.cooldownTimer),clearInterval(this.globalCooldownTimer),clearInterval(this.channelTimer),clearTimeout(this.castTimer)}}],[{key:"create",value:function(e,t,a,n,r){var i=function(e,t){var a={};return t.forEach((function(e){e.eventTypes.forEach((function(t){v[t].forEach((function(t){return a[t]=e.trigger}))}))})),new T(a,g[e].onEvent)}(t.name,r);switch(e){case"instant":return new N(t,a,n,i);case"cast":return new S(t,a,n,i);case"channel":return new A(t,a,n,i)}}}]),e}(),N=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"execute",value:function(){if(this.state.cast.casting.current)return!1;var e=this.getCurrentState(),t=e.name,a=e.resource,n=e.costsResource,r=e.cooldown.startTime,i=e.charges,o=i.maxCharges,s=i.current;r&&0===s||(this.updateState((function(e){return Object(l.a)(Object(l.a)({},e),{},{charges:s-1})})),this.eventHandler.handleEvent("CAST_SUCCESS",{name:t,resource:a,costsResource:n,time:Date.now()}),this.onExecute(),o&&s<o||this.startCooldown())}}]),a}(w),S=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"execute",value:function(){if(this.state.cast.casting.current)return!1;var e=this.getCurrentState(),t=e.cast.startTime,a=e.charges.current;t||0===a||(this.startCast(),this.onExecute())}}]),a}(w),A=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"execute",value:function(){if(this.state.cast.casting.current)return!1;var e=this.getCurrentState().cooldown,t=e.duration;e.startTime||(this.startChannel(),t&&this.startCooldown(),this.onExecute())}}]),a}(w),k=w,I=function(e){var t=e.name,a=e.displayName,i=e.settings,o=e.cooldown,s=e.globalCooldown,c=e.globalCooldownStartTime,l=e.unusable,d=e.startTime,m=e.casttime,p=e.castStartTime,b=e.castEndTime,f=e.icon,y=e.baseChannelTime,v=e.currentTicks,g=e.keybind,E=e.casting,T=e.subscribe,O=e.unsubscribe,w=e.onExecute,N=e.onAbilityUpdate,S=e.onClick,A=e.triggerEvent,I=e.show,C=e.reset,j=Object(n.useState)({}),_=Object(u.a)(j,2),R=_[0],D=_[1],x=g.key,L=g.keybindText,U=i.type,B=i.resource,P=i.costsResource,V=i.charges,Y=i.ticks,H=i.ignoreGcd,M=Object(n.useRef)(d),W=Object(n.useRef)(o);M.current=d,W.current=o;var G=Object(n.useRef)(p),F=Object(n.useRef)(b),z=Object(n.useRef)(m),q=Object(n.useRef)(E);G.current=p,F.current=b,z.current=m,q.current=E;var J=Object(n.useRef)(y),K=Object(n.useRef)(v);J.current=y,K.current=v;var X=Object(n.useRef)(V||1);X.current=R.charges;var $=Object(n.useRef)(s),Z=Object(n.useRef)(c);$.current=s,Z.current=c;var Q=Object(n.useRef)(l);Q.current=l;var ee=Object(n.useRef)(!I);ee.current=!I;var te=Object(n.useRef)();Object(n.useEffect)((function(){var e=[{eventTypes:["CAST"],trigger:N},{eventTypes:["RESOURCE","AURA","STAT"],trigger:A}],n={name:t,displayName:a,resource:B,costsResource:P,unusable:Q,disabled:ee,ignoreGcd:H,cooldown:{duration:W,startTime:M},cast:{duration:z,startTime:G,endTime:F,casting:q},channel:{baseDuration:J,baseTicks:Y,ticks:K},charges:{maxCharges:V,current:X},globalCooldown:{duration:$,startTime:Z}};return te.current=k.create(U,n,D,w,e),T({source:t,keybind:x,execute:function(){return te.current.execute()},notify:function(){return te.current.beginGlobalCooldown()},getRemainingCooldown:function(){return te.current.getRemainingCooldown()},canExecute:function(){return te.current.canExecute()},ignoresGcd:!!H}),function(){te.current.remove(),O(t)}}),[x,C]);return I?r.a.createElement("div",{className:"progress-ability-container"},r.a.createElement("div",{className:"progress-ability hover-pointer",onClick:function(){S(t,(function(){return te.current.getRemainingCooldown()}),(function(){return te.current.execute()}),(function(){return te.current.canExecute()}),!!H)}},r.a.createElement("img",{className:l||!(R.charges>0&&V)&&M.current?"desaturated":"colored",src:f,width:50,height:50}),r.a.createElement("div",{className:"charge-text"},V>1?R.charges:""),M.current||$.current?r.a.createElement(h,{size:50,progress:R.progress}):null),r.a.createElement("div",null,L)):null},C={start:function(e,t){t({type:"GLOBAL_COOLDOWN_START",payload:{gcd:e,time:Date.now()}}),setTimeout((function(){t({type:"GLOBAL_COOLDOWN_END"})}),e)}},j=(a(48),function(e){var t=e.time,a=e.name,i=e.displayName,o=e.duration,s=e.direction,c=Object(n.useState)(0),l=Object(u.a)(c,2),d=l[0],m=l[1],h=Object(n.useRef)(t),p=Object(n.useRef)(t);return h.current=t,p.current=o,Object(n.useEffect)((function(){var e=setInterval((function(){var e=Date.now();m((function(t){return e-h.current}))}),50);return function(){clearInterval(e),m((function(e){return 0}))}}),[a]),r.a.createElement("div",{className:"progress-bar-container"},r.a.createElement("div",{className:"cast-bar-text-container"},r.a.createElement("div",{className:"progress-text cast-bar-text"},i),r.a.createElement("div",{className:"progress-text cast-bar-text"},s?"".concat((d/1e3).toFixed(1),"/").concat((o/1e3).toFixed(1)):"".concat(((p.current-d)/1e3).toFixed(1),"/").concat((p.current/1e3).toFixed(1)),"sec")),r.a.createElement("div",{className:"progress-bar cast-bar",style:{width:"".concat(s?(d/p.current*100).toFixed(2):((p.current-d)/p.current*100).toFixed(2),"%")}}))}),_=(a(49),function(e){var t=e.abilitySettings,a=e.abilities,i=e.haste,o=e.inVoidform,s=e.triggerEvent,c=e.keyEventsPaused,d=e.reset,h=Object(n.useRef)(i);h.current=i;var p=Object(n.useRef)(o);p.current=o;var b=Object(n.useRef)(),f=Object(n.useState)([]),y=Object(u.a)(f,2),v=y[0],g=y[1],E=Object(n.useRef)(v);E.current=v;var T={globalCooldown:0,cooldowns:function(){var e={};return Object.keys(a).forEach((function(a){t[a]&&t[a].disabled||(e[a]={startTime:0})})),e}(),status:{}},O=Object(n.useState)(d),w=Object(u.a)(O,2),N=w[0],S=w[1];Object(n.useEffect)((function(){return R({type:"RESET"}),function(){return S(d)}}),[d]),Object(n.useEffect)((function(){var e="mind-blast",a=t[e],n=H(e),r=a.cdr*(o?-1:1);a.cooldown+=r;var i=_.cooldowns[e].startTime;if(i&&N!==d){r=H(e)-n;var s=Date.now();R({type:"ABILITY_COOLDOWN_START",payload:{name:e,time:i+(i+n-s)/n*r-r}})}}),[o]),Object(n.useEffect)((function(){return document.addEventListener("keydown",L),document.addEventListener("keypress",L),function(){document.removeEventListener("keydown",L),document.removeEventListener("keypress",L)}}),[c]);var A=Object(n.useReducer)((function(e,a){var n=JSON.parse(JSON.stringify(e)),r=a.payload;switch(a.type){case"RESET":return T;case"EXECUTE_PENDING":var i=r.name;n.status[i]="PENDING";break;case"EXECUTE_END":i=r.name;n.status[i]="";break;case"ABILITY_CAST_SUCCESS":i=r.name;if(t["void-bolt"].rankTwo&&n.casting&&"void-bolt"===i&&"mind-flay"===n.casting.name)break;n.cooldowns[i].castStartTime=0,n.cooldowns[i].castEndTime=0,n.casting&&(n.cooldowns[n.casting.name].castStartTime=0,n.cooldowns[n.casting.name].castEndTime=0,delete n.casting);break;case"ABILITY_COOLDOWN_START":i=r.name;var o=r.time;n.cooldowns[i].startTime=o;break;case"ABILITY_COOLDOWN_END":i=r.name;n.cooldowns[i].startTime=0;break;case"ABILITY_CAST_START":i=r.name;var s=r.displayName,c=(o=r.time,r.duration);n.cooldowns[i].castStartTime=o,n.cooldowns[i].castEndTime=o+c,n.casting&&(n.cooldowns[n.casting.name].castStartTime=0,n.cooldowns[n.casting.name].castEndTime=0),n.casting={duration:c,name:i,displayName:s,direction:1,time:o};break;case"ABILITY_CHANNEL_START":i=r.name,s=r.displayName,o=r.time,c=r.duration;var u=r.baseChannelTime,d=r.currentTicks,m=n.cooldowns[i];n.cooldowns[i]=Object(l.a)(Object(l.a)({},m),{},{castStartTime:o,castEndTime:o+c,baseChannelTime:u,currentTicks:d}),n.casting&&i!==n.casting.name&&(n.cooldowns[n.casting.name].castStartTime=0,n.cooldowns[n.casting.name].castEndTime=0),n.casting={duration:c,name:i,displayName:s,direction:0,time:o};break;case"ABILITY_CHANNEL_UPDATE":i=r.name;n.cooldowns[i].currentTicks--;break;case"ABILITY_CHANNEL_END":i=r.name,m=n.cooldowns[i];n.cooldowns[i]=Object(l.a)(Object(l.a)({},m),{},{castStartTime:0,castEndTime:0,currentTicks:0}),n.casting&&i===n.casting.name&&delete n.casting;break;case"GLOBAL_COOLDOWN_START":n.globalCooldown=r.gcd,n.globalCooldownStartTime=r.time;break;case"GLOBAL_COOLDOWN_END":n.globalCooldownStartTime=0;break;default:console.error("Invalid action provided: ".concat(a.type))}return n}),T),k=Object(u.a)(A,2),_=k[0],R=k[1],D=Object(n.useRef)(_.globalCooldown);D.current=_.globalCooldown;var x=Object(n.useRef)(_.globalCooldownStartTime);x.current=_.globalCooldownStartTime;var L=function(e){if(!c){var t=Date.now();E.current.forEach((function(a){if(a.keybind===e.key){e.preventDefault();var n=a.getRemainingCooldown(),r=D.current?D.current-(t-x.current):0,i=a.ignoresGcd?0:Math.max(n,r);if(i>250)return;if(!a.canExecute())return;W(a.source,a.execute,i+15)}}))}},U=function(e,t,a,n,r){var i=Date.now(),o=t(),s=D.current?D.current-(i-x.current):0,c=r?0:Math.max(o,s);c>250||n()&&W(e,a,c+15)},B=function(e){return e/h.current},P=function(){var e=Math.max(B(1500),750);C.start(e,R),setTimeout((function(){E.current.forEach((function(e){return e.notify()}))}),0)},V=function(e){g((function(t){return[].concat(Object(m.a)(t),[e])}))},Y=function(e){g((function(t){return t.filter((function(t){return t.source!==e}))}))},H=function(e){var a=t[e],n=a.cooldown;return a.hasted?B(n):n},M=function(e){var a=t[e],n=a.casttime;return a.staticCastTime?n:B(n)},W=function(e,t,a){clearTimeout(b.current),b.current=setTimeout((function(){E.current.find((function(t){return t.source===e}))&&t()}),a)},G=function(e){return!a[e].disabled},F=function(e){return!("void-bolt"===e&&!p.current)&&("void-eruption"!==e||!p.current)};return r.a.createElement("div",{className:"ability-bar-container"},r.a.createElement("div",{className:"progress-bar-container"},_.casting?r.a.createElement(j,_.casting):null),r.a.createElement("div",{className:"ability-bar"},function(e){return Object.keys(e).filter(G).sort((function(t,a){return e[t].index-e[a].index}))}(a).map((function(e){return r.a.createElement(I,Object.assign({name:e,key:"ability-".concat(e)},a[e],_.cooldowns[e],{settings:t[e],cooldown:H(e),globalCooldown:_.globalCooldown,globalCooldownStartTime:_.globalCooldownStartTime,casttime:M(e),casting:_.casting&&_.casting.time&&_.casting.direction,subscribe:V,unsubscribe:Y,onExecute:P,onAbilityUpdate:R,onClick:U,triggerEvent:s,show:F(e),reset:d}))}))))}),R=a(10),D=(a(50),function(e){var t=e.icon,a=(e.displayName,e.duration),n=e.maxDuration,i=e.stacks,o=a&&(n-a)/n;return r.a.createElement("div",{className:"aura"},r.a.createElement("img",{src:t,width:30,height:30}),r.a.createElement("div",{className:"aura-text"},i>0?i:""),a?r.a.createElement(h,{size:30,progress:o,inverse:!0}):null,e.children)}),x=function(e){var t=e.type,a=e.startTime,i=e.haste,o=e.stacks,s=e.inVoidform,c=e.triggerEvent,l=Object(R.a)(e,["type","startTime","haste","stacks","inVoidform","triggerEvent"]),d=Object(n.useState)(6e4),m=Object(u.a)(d,2),h=m[0],p=m[1],b=Object(n.useState)(0),f=Object(u.a)(b,2),y=f[0],v=f[1],g=Object(n.useRef)(o);g.current=o;var E=Object(n.useRef)(s);E.current=s;var T=Object(n.useRef)(a);T.current=a;var O=Object(n.useRef)(i);O.current=i;var w=function(e,t,a,n){var r=e?6e4:n;return p((function(e){return r})),c({type:"LINGERING_INSANITY_START",payload:{haste:O.current*t,stacks:Math.ceil(a*t)}}),{currentMaxDuration:r,voidformEntered:!1}},N=function(e,t){return Math.ceil(e/t)};return Object(n.useEffect)((function(){var e;switch(t){case"static":e=function(){var e=l.duration,t=l.afterVoidformEntry,a=l.hasteRetention,n=w(t,a,g.current,e),r=setInterval((function(){var i=Date.now();if(!n.voidformEntered||E.current)return i>=T.current+n.currentMaxDuration?(clearInterval(r),void c({type:"LINGERING_INSANITY_END"})):!n.voidformEntered&&E.current&&(n.voidformEntered=!0,t)?(c({type:"AURA_REFRESH",payload:{name:"lingeringInsanity",time:i}}),p((function(t){return e})),n.currentMaxDuration=e,void v((function(e){return 0}))):void v((function(e){return i-T.current}));n=w(t,a,g.current,e)}),100);return r}();break;case"decay":e=function(){var e=l.decayRate,t=l.hasteDecay,a=0,n=w(!0,1,N(O.current,t)),r=setInterval((function(){a+=100;var i=Date.now();return n.voidformEntered&&!E.current?(n=w(!0,1,N(O.current,t)),void(a=0)):g.current<=0?(clearInterval(r),void c({type:"LINGERING_INSANITY_END"})):(a%e===0&&c({type:"LINGERING_INSANITY_UPDATE",payload:-1*t}),!n.voidformEntered&&E.current&&(n.voidformEntered=!0),void v((function(e){return i-T.current})))}),100);return r}()}return function(){return clearInterval(e)}}),[]),r.a.createElement(D,{icon:"images/lingering-insanity.jpg",displayName:"Lingering Insanity",duration:y,maxDuration:h,stacks:o})},L=function(e){var t=e.drainRate,a=e.drainStart,i=e.hasteStack,o=e.hasteStart,s=e.maxStacks,c=e.paused,l=e.active,d=e.triggerEvent,m=Object(n.useState)(1),h=Object(u.a)(m,2),p=h[0],b=h[1],f=Object(n.useRef)(c);f.current=c;return Object(n.useEffect)((function(){var e=function(){var e=0,n=Math.round(10),r=0;return d({type:"HASTE_UPDATE",payload:{source:"voidform",haste:o+i}}),setInterval((function(){var o=.1*(a+t*e);r++,f.current||(e+=.1,d({type:"RESOURCE_UPDATE",payload:{resource:-1*o}})),r%n===0&&(!s||r/n<s)&&(d({type:"VOIDFORM_UPDATE",payload:i}),b((function(e){return e+1})))}),100)}();return function(){clearInterval(e),d({type:"VOIDFORM_END",payload:{time:Date.now(),startingHaste:o}})}}),[l]),r.a.createElement(D,{icon:"images/voidform.jpg",displayName:"Voidform",stacks:p})},U=function(e){var t=e.icon,a=e.name,i=e.displayName,o=e.startTime,s=e.baseDuration,c=e.maxDuration,l=e.ticks,d=e.resource,m=e.haste,h=e.hasted,p=e.triggerEvent,b=Object(n.useState)(0),f=Object(u.a)(b,2),y=f[0],v=f[1],g=Object(n.useRef)(o);g.current=o;var E=Object(n.useRef)(c);E.current=c;var T=Object(n.useRef)(m);T.current=m;var O=function(e){return s/l/(h&&T.current||1)+e};return Object(n.useEffect)((function(){var e=Date.now(),t=O(e);p({type:"AURA_BEGIN",payload:{name:a,duration:s,time:e}});var n=setInterval((function(){var e=Date.now();if(e>=g.current+E.current)return clearInterval(n),p({type:"RESOURCE_UPDATE",payload:{resource:d}}),void p({type:"AURA_END",payload:{name:a}});e>=t&&(p({type:"RESOURCE_UPDATE",payload:{resource:d}}),t=O(e)),v((function(t){return e-g.current}))}),100);return function(){return clearInterval(n)}}),[]),r.a.createElement(D,{icon:t,displayName:i,duration:y,maxDuration:E.current})},B=function(e){var t=e.icon,a=e.name,i=e.displayName,o=e.startTime,s=e.setting,c=e.triggerEvent,d=s.baseDuration,m=Object(n.useState)(0),h=Object(u.a)(m,2),p=h[0],b=h[1],f=Object(n.useRef)(o);return f.current=o,Object(n.useEffect)((function(){var e=function(e,t){var a={};return["AURA","RESOURCE","STAT"].forEach((function(e){v[e].forEach((function(e){return a[e]=t}))})),new T(a,E[e].onEvent)}(a,c),t=Date.now();e.handleEvent("AURA_START",Object(l.a)({name:a,source:a,duration:d,time:t},s));var n=setInterval((function(){var t=Date.now();if(t>=f.current+d)return clearInterval(n),void e.handleEvent("AURA_END",{name:a,source:a});b((function(e){return t-f.current}))}),100);return function(){return clearInterval(n)}}),[]),r.a.createElement(D,{icon:t,displayName:i,duration:p,maxDuration:d})},P={cooldown:{key:"cooldown",displayName:"Cooldown",type:"time",whatIs:"The amount of time, in seconds, it takes for an ability to be able to be recast.",unit:"sec"},charges:{key:"charges",displayName:"Charges",type:"number",whatIs:"The number of times an ability may be cast while it is on cooldown."},hasted:{key:"hasted",displayName:"Hasted",type:"boolean",whatIs:"An ability that is hasted has its cooldown reduced by haste."},resourceCast:{key:"resource",displayName:"Resource",type:"number",whatIs:"The amount of resource an ability will generate upon a successful cast.",unit:"insanity"},resourceChannel:{key:"resource",displayName:"Resource",type:"number",whatIs:"The amount of resource an ability will generate over its complete channel period.",unit:"insanity"},cost:{key:"resource",displayName:"Cost",type:"number",whatIs:"The amount of resource required to cast an ability. Casting the ability will spend the resource cost.",unit:"insanity"},castTime:{key:"casttime",displayName:"Cast Time",type:"time",whatIs:"The amount of time, in seconds, it takes for an ability to be executed.",unit:"sec"},channelTime:{key:"casttime",displayName:"Channel Time",type:"time",whatIs:"The amount of time, in seconds, it takes for an ability's channel to complete.",unit:"sec"},ticks:{key:"ticks",displayName:"Ticks",type:"number",whatIs:"The number of times a channel generates resources over its duration."},auraDuration:{key:"baseDuration",displayName:"Duration",type:"time",whatIs:"The amount of time, in seconds, that an aura's effect will last."},auraTicks:{key:"ticks",displayName:"Ticks",type:"number",whatIs:"The number of times an aura will trigger its effect over its duration."},auraResource:{key:"resource",displayName:"Resource",type:"number",whatIs:"The amount of resource an aura will generate every time its effect triggers."}},V={"void-bolt":[P.cooldown,P.hasted,P.charges,P.resourceCast,{key:"extension",displayName:"DoT Extension",type:"time",whatIs:"The amount of time, in seconds, that Shadow Word: Pain and Vampiric Touch are extended when Void Bolt is cast."}],"void-eruption":[P.cooldown,P.castTime,{key:"resource",displayName:"Insanity Threshold",type:"number",whatIs:"The amount of Insanity that is required to cast Void Eruption out of Voidform."}],"mind-flay":[P.channelTime,P.resourceChannel,P.ticks],"mind-sear":[P.channelTime,P.resourceChannel,P.ticks,{key:"targetCount",displayName:"Target Count",type:"number",whatIs:"The number of targets Mind Sear will hit. Mind Sear generates more resource per additional target."}],"mind-blast":[P.cooldown,P.charges,P.castTime,P.hasted,P.resourceCast,{key:"cdr",displayName:"Voidform Cooldown Reduction",type:"time",whatIs:"The amount of time, in seconds, that Mind Blast's cooldown is reduced while in Voidform."}],"shadow-word-death":[P.cooldown,P.charges,P.hasted,P.resourceCast],"void-torrent":[P.cooldown,P.channelTime,P.resourceChannel,P.ticks,{key:"requireVoidform",displayName:"Require Voidform",type:"boolean",whatIs:"Must be in Voidform in order to cast the ability."}],"shadow-word-pain":[P.resourceCast],"vampiric-touch":[P.castTime,P.resourceCast],"devouring-plague":[P.cooldown,P.cost],shadowfiend:[P.cooldown,P.resourceCast],"power-infusion":[P.cooldown]},Y={stats:[{key:"haste",displayName:"Haste",type:"percent",whatIs:"Increases the rate at which spells cast and the global cooldown, and certain spell cooldowns, regenerate."}],voidform:[{key:"drainStart",displayName:"Starting Insanity Drain",type:"float",unit:"/sec",whatIs:"The starting amount of Insanity being drained every second while in Voidform."},{key:"drainRate",displayName:"Insanity Drain Rate",type:"float",unit:"/sec",whatIs:"The amount of increasing Insanity drained every second while in Voidform."},{key:"hasteStart",displayName:"Voidform Starting Haste",type:"percent",whatIs:"The amount of haste, in percent, that is granted at the start of Voidform."},{key:"hasteStack",displayName:"Voidform Haste Per Stack",type:"percent",whatIs:"The amount of haste, in percent, that every stack of Voidform grants."},{key:"maxStacks",displayName:"Maximum Voidform Stacks",type:"number",whatIs:"The maximum number of Voidform stacks. Note that reaching the maximum does not stop drain from increasing."},{key:"gainInsanity",displayName:"Gain Insanity",type:"boolean",whatIs:"While in Voidform, if enabled spells will generate insanity, otherwise they won't."}],lingeringInsanity:[{key:"type",displayName:"Aura Type",type:"select",options:[{value:"static",displayName:"Static"},{value:"decay",displayName:"Decay"}],whatIs:"Lingering Insanity has two types.\nStatic - The length of the aura and haste from stacks are constant.\nDecay - Haste stacks are lost over the aura's duration at a certain rate."},{key:"duration",displayName:"Aura Duration",type:"time",whatIs:"An option for type 'Static'. This is the amount of time, in seconds, that the aura will last."},{key:"afterVoidformEntry",displayName:"After Voidform Entry",type:"boolean",whatIs:"An option for type 'Static'. If enabled, then the duration for Lingering Insanity will only start after entering Voidform."},{key:"hasteRetention",displayName:"Haste Retained",type:"percent",whatIs:"An option for type 'Static. The amount of haste, in percent, that is retained from the final stacks of the previous Voidform."},{key:"decayRate",displayName:"Stack Decay Rate",type:"time",whatIs:"An option for type 'Decay'. The amount of time, in seconds it takes for one stack of the aura to be lost."},{key:"hasteDecay",displayName:"Haste Decay Amount",type:"percent",whatIs:"An option for type 'Decay'. The amount of haste, in percent, that is removed every time the aura loses a stack."}],"shadow-word-pain":[P.auraDuration,P.auraTicks,P.auraResource],"vampiric-touch":[P.auraDuration,P.auraTicks,P.auraResource],"devouring-plague":[P.auraDuration,P.auraTicks,P.auraResource,{key:"hasted",displayName:"Hasted",type:"boolean",whatIs:"An aura that is hasted has its period reduced by haste."}],shadowfiend:[P.auraResource],"power-infusion":[P.auraDuration,{key:"haste",displayName:"Haste",type:"percent",whatIs:"The amount of haste, in percent, that is granted while an aura is active"},{key:"resourceGen",displayName:"Resource Generation",type:"percent",whatIs:"Increases the amount of resource generated from abilities while an aura is active."}]},H=[{name:"shadow-word-pain",icon:"images/shadow-word-pain.jpg",displayName:"Shadow Word: Pain"},{name:"vampiric-touch",icon:"images/vampiric-touch.jpg",displayName:"Vampiric Touch"},{name:"devouring-plague",icon:"images/devouring-plague.jpg",displayName:"Devouring Plague"},{name:"shadowfiend",icon:"images/shadowfiend.jpg",displayName:"Shadowfiend"}],M=[{name:"power-infusion",icon:"images/power-infusion.jpg",displayName:"Power Infusion"},{name:"bloodlust",icon:"images/bloodlust.jpg",displayName:"Bloodlust"}],W=function(e){var t=e.auras,a=e.triggerEvent,i=e.settings,o=e.haste,s=i.lingeringInsanity,c=i.voidform,l=Object(n.useReducer)((function(e,t){})),d=Object(u.a)(l,2);d[0],d[1];return r.a.createElement("div",{className:"aura-container"},t.voidform.active?r.a.createElement(L,Object.assign({},c,t.voidform,{triggerEvent:a})):null,t.lingeringInsanity.active?r.a.createElement(x,Object.assign({},s,t.lingeringInsanity,{inVoidform:t.voidform.active,triggerEvent:a})):null,H.map((function(e){return t[e.name].active?r.a.createElement(U,Object.assign({},e,t[e.name],i[e.name],{haste:o,triggerEvent:a})):null})),M.map((function(e){return t[e.name].active?r.a.createElement(B,Object.assign({},e,t[e.name],{setting:i[e.name],triggerEvent:a})):null})))},G=(a(9),function(e){var t=e.panel,a=e.currentPanel,i=e.reset,o=e.onClick,s=e.handleClose,c=e.header,l=e.panelClass,u=e.style;return function(e,t,a){var r=Object(n.useRef)();Object(n.useEffect)((function(){r.current===e&&a(),r.current=t}),[t])}(t,a,i),r.a.createElement("div",null,r.a.createElement("div",{className:"panel-header hover-pointer",onClick:function(){return o(t)}},c),r.a.createElement("div",{className:"panel ".concat(l),style:u},r.a.createElement("button",{className:"panel-button panel-exit-button",onClick:s},"x"),e.children))}),F=a(23),z={"mind-flay":{cooldown:0,resource:12,hasted:!0,casttime:3e3,ticks:4,type:"channel"},"mind-sear":{cooldown:0,resource:5,hasted:!0,casttime:3e3,ticks:4,targetCount:1,type:"channel"},"void-bolt":{cooldown:4500,resource:20,hasted:!0,rankTwo:!1,type:"instant",charges:1,extension:3e3},"void-eruption":{cooldown:0,type:"cast",casttime:2e3,resource:90,costsResource:!0},"mind-blast":{cooldown:7500,resource:12,hasted:!0,type:"cast",casttime:1500,charges:1,cdr:1500},"shadow-word-death":{cooldown:9e3,resource:15,hasted:!1,type:"instant",charges:1},"void-torrent":{cooldown:45e3,resource:30,type:"channel",casttime:4e3,staticCastTime:!0,ticks:10,requireVoidform:!1},"shadow-word-pain":{cooldown:0,resource:4,type:"instant"},"vampiric-touch":{cooldown:0,resource:6,type:"cast",casttime:1500},"devouring-plague":{costType:"static",cooldown:0,resource:50,costsResource:!0,type:"instant"},shadowfiend:{cooldown:18e4,resource:3,type:"instant"},"power-infusion":{cooldown:12e4,type:"instant"},bloodlust:{cooldown:3e5,ignoreGcd:!0,type:"instant"}},q={stats:{displayName:"Passive",haste:0,startingInsanity:0},voidform:{displayName:"Voidform",type:"insanity",drainStart:6,drainRate:.68,hasteStart:0,hasteStack:.005,maxStacks:0,gainInsanity:!0,baseDuration:0},lingeringInsanity:{displayName:"Lingering Insanity",type:"decay",duration:6e4,afterVoidformEntry:!1,hasteRetention:1,decayRate:3e3,hasteDecay:.01},"shadow-word-pain":{displayName:"Shadow Word: Pain",baseDuration:16e3,ticks:8,resource:0,hasted:!0},"vampiric-touch":{displayName:"Vampiric Touch",baseDuration:21e3,ticks:7,resource:0,hasted:!0},"devouring-plague":{displayName:"Devouring Plague",baseDuration:12e3,ticks:4,resource:0,hasted:!0},shadowfiend:{displayName:"Shadowfiend",baseDuration:15e3,ticks:10,resource:3},"power-infusion":{displayName:"Power Infusion",baseDuration:2e4,haste:.25,resourceGen:0},bloodlust:{displayName:"Bloodlust",baseDuration:4e4,haste:.3}},J=function(e){var t={};return Object.keys(z).forEach((function(a){var n=e[a];if(!n)throw new Error("Missing ability in input");t[a]=function(e,t){var a=z[t];return Object.keys(a).reduce((function(t,n){var r=e[n],i=a[n];if(null===r||void 0===r)throw new Error("Missing ability setting in input "+n);if(typeof r!==typeof i)throw new Error("Ability setting has invalid format");return t[n]=r,t}),{})}(n,a)})),t},K=function(e){var t={};return Object.keys(q).forEach((function(a){var n=e[a];if(!n)throw new Error("Missing aura in input");t[a]=function(e,t){var a=q[t];return Object.keys(a).reduce((function(t,n){var r=e[n],i=a[n];if(null===r||void 0===a)throw new Error("Missing aura setting in input "+n);if(typeof r!==typeof i)throw new Error("Aura setting has invalid format");return t[n]=r,t}),{})}(n,a)})),t},X=function(e){return Object.keys(e).reduce((function(t,a){var n,r=e[a],i=(n=r,Object.keys(n).reduce((function(e,t){return e[t]=n[t],e}),{}));return t[a]=i,t}),{})},$=function(e,t,a){return Object.keys(e).reduce((function(n,r){var i=e[r],o=i.keybind,s=i.disabled,c=i.index;return n[r]={disabled:!!s},t&&o&&(n[r].keybind=o),a&&c&&(n[r].index=c),n}),{})},Z=function(e){var t=X(e.abilitySettings),a=$(e.abilities,!0,!0),n={abilitySettings:t,auraSettings:e.auraSettings,abilityConfig:a};return F.Base64.encode(JSON.stringify(n))},Q={live:{displayName:"Live",abilitySettings:Object(l.a)(Object(l.a)({},z),{},{"void-eruption":Object(l.a)(Object(l.a)({},z["void-eruption"]),{},{casttime:1500,resource:60}),"mind-blast":Object(l.a)(Object(l.a)({},z["mind-blast"]),{},{cooldown:9e3,resource:15,charges:2}),"shadow-word-death":Object(l.a)(Object(l.a)({},z["shadow-word-death"]),{},{charges:2})}),auraSettings:Object(l.a)({},q),abilities:{"mind-flay":{},"mind-sear":{},"void-bolt":{},"void-eruption":{},"mind-blast":{},"shadow-word-death":{disabled:!0},"void-torrent":{disabled:!0},"shadow-word-pain":{},"vampiric-touch":{},"devouring-plague":{disabled:!0},shadowfiend:{}}},alpha:{displayName:"Shadowlands Alpha",abilitySettings:Object(l.a)(Object(l.a)({},z),{},{"mind-blast":Object(l.a)(Object(l.a)({},z["mind-blast"]),{},{cooldown:8e3}),"shadow-word-death":Object(l.a)(Object(l.a)({},z["shadow-word-death"]),{},{cooldown:2e4,resource:0,hasted:!0})}),auraSettings:Object(l.a)({},q),abilities:{"mind-flay":{},"mind-sear":{},"void-bolt":{},"void-eruption":{},"mind-blast":{},"shadow-word-death":{},"void-torrent":{disabled:!0},"shadow-word-pain":{},"vampiric-touch":{},"devouring-plague":{},shadowfiend:{}}},legionENVoidlord:{displayName:"Legion: EN + Void Lord",abilitySettings:Object(l.a)(Object(l.a)({},z),{},{"void-eruption":{cooldown:0,type:"cast",casttime:2500,resource:90,costsResource:!0},"void-torrent":{cooldown:6e4,resource:0,type:"channel",casttime:4e3,staticCastTime:!0,ticks:10,requireVoidform:!0},shadowfiend:{cooldown:18e4,resource:0,type:"instant"}}),auraSettings:Object(l.a)(Object(l.a)({},q),{},{voidform:{displayName:"Voidform",drainStart:6,drainRate:.66,hasteStart:0,hasteStack:.01,maxStacks:0},lingeringInsanity:{displayName:"Lingering Insanity",type:"static",duration:8e3,afterVoidformEntry:!0,hasteRetention:1,decayRate:1e3,hasteDecay:.01},shadowfiend:{displayName:"Shadowfiend",baseDuration:15e3,ticks:10,resource:0}}),abilities:{"mind-flay":{},"mind-sear":{},"void-bolt":{},"void-eruption":{},"mind-blast":{},"shadow-word-death":{},"void-torrent":{},"shadow-word-pain":{},"vampiric-touch":{},"devouring-plague":{disabled:!0}}},legionAntorus:{displayName:"Legion: Antorus",abilitySettings:Object(l.a)(Object(l.a)({},z),{},{"void-eruption":{cooldown:0,type:"cast",casttime:1500,resource:65,costsResource:!0},"mind-blast":{cooldown:7500,resource:12,hasted:!0,type:"cast",casttime:1500,charges:2,cdr:1500},"void-torrent":{cooldown:6e4,resource:0,type:"channel",casttime:4e3,staticCastTime:!0,ticks:10,requireVoidform:!0},shadowfiend:{cooldown:6e4,resource:6,type:"instant"}}),auraSettings:Object(l.a)(Object(l.a)({},q),{},{stats:{displayName:"Stats",haste:.4},voidform:{displayName:"Voidform",drainStart:6,drainRate:.66,hasteStart:0,hasteStack:.01,maxStacks:0},lingeringInsanity:{displayName:"Lingering Insanity",type:"decay",duration:6e4,afterVoidformEntry:!1,hasteRetention:1,decayRate:1e3,hasteDecay:.01},shadowfiend:{displayName:"Shadowfiend",baseDuration:24e3,ticks:16,resource:6}}),abilities:{"mind-flay":{},"mind-sear":{disabled:!0},"void-bolt":{},"void-eruption":{},"mind-blast":{},"shadow-word-death":{},"void-torrent":{},"shadow-word-pain":{},"vampiric-touch":{},"devouring-plague":{disabled:!0},"power-infusion":{disabled:!0}}},ryeshot:{displayName:"Ryeshot's Shadowlands",abilitySettings:Object(l.a)(Object(l.a)({},z),{},{"void-bolt":Object(l.a)(Object(l.a)({},z["void-bolt"]),{},{resource:15}),"mind-blast":Object(l.a)(Object(l.a)({},z["mind-blast"]),{},{cooldown:7500,resource:25,charges:2,cdr:0}),"shadow-word-death":Object(l.a)(Object(l.a)({},z["shadow-word-death"]),{},{cooldown:2e4,resource:0,hasted:!0}),"devouring-plague":Object(l.a)(Object(l.a)({},z["devouring-plague"]),{},{resource:30})}),auraSettings:Object(l.a)(Object(l.a)({},q),{},{stats:Object(l.a)(Object(l.a)({},q.stats),{},{haste:.15}),voidform:Object(l.a)(Object(l.a)({},q.voidform),{},{drainRate:.66,hasteStart:.2,hasteStack:.01}),lingeringInsanity:Object(l.a)(Object(l.a)({},q.lingeringInsanity),{},{type:"static",duration:0}),"devouring-plague":Object(l.a)(Object(l.a)({},q["devouring-plague"]),{},{ticks:12,resource:3,hasted:!1})}),abilities:{"mind-flay":{},"mind-sear":{disabled:!0},"void-bolt":{},"void-eruption":{},"mind-blast":{},"shadow-word-death":{disabled:!0},"void-torrent":{disabled:!0},"shadow-word-pain":{},"vampiric-touch":{},"devouring-plague":{},shadowfiend:{disabled:!0},"power-infusion":{disabled:!0}}},yvaelle:{displayName:"Yvaelle's Shadowlands",abilitySettings:Object(l.a)(Object(l.a)({},z),{},{"void-eruption":Object(l.a)(Object(l.a)({},z["void-eruption"]),{},{resource:0}),"mind-blast":Object(l.a)(Object(l.a)({},z["mind-blast"]),{},{cooldown:7500,resource:15,charges:2})}),auraSettings:Object(l.a)(Object(l.a)({},q),{},{stats:Object(l.a)(Object(l.a)({},q.stats),{},{haste:.35}),voidform:Object(l.a)(Object(l.a)({},q.voidform),{},{drainStart:5,drainRate:0,hasteStart:.15,hasteStack:0,gainInsanity:!1}),lingeringInsanity:Object(l.a)(Object(l.a)({},q.lingeringInsanity),{},{type:"static",duration:0})}),abilities:{"mind-flay":{},"mind-sear":{disabled:!0},"void-bolt":{},"void-eruption":{},"mind-blast":{},"shadow-word-death":{disabled:!0},"void-torrent":{disabled:!0},"shadow-word-pain":{},"vampiric-touch":{},"devouring-plague":{disabled:!0},shadowfiend:{disabled:!0},"power-infusion":{disabled:!0}}}},ee=function(e){var t=e.onChange,a=e.selected;return r.a.createElement("div",{style:{width:"60%"}},r.a.createElement("select",{className:"panel-dropdown",value:a,onChange:t},r.a.createElement("option",{value:"default",disabled:!0},"Choose a template..."),Object.keys(Q).map((function(e){return r.a.createElement("option",{key:e,value:e},Q[e].displayName)})),r.a.createElement("option",{key:"custom",value:"custom"},"Custom")))},te=function(e){var t=e.settings,a=e.onImport,i=e.currentPanel,o=e.onClick,s=e.closePanel,c=Object(n.useState)(""),d=Object(u.a)(c,2),m=d[0],h=d[1],p=Object(n.useState)(""),b=Object(u.a)(p,2),f=b[0],y=b[1],v=Object(n.useState)(!1),g=Object(u.a)(v,2),E=g[0],T=g[1],O=Object(n.useState)(!1),w=Object(u.a)(O,2),N=w[0],S=w[1],A=Object(n.useState)("default"),k=Object(u.a)(A,2),I=k[0],C=k[1];return r.a.createElement(G,{panel:"export",currentPanel:i,reset:function(){h(""),y(""),T(!1),S(!1),C("default")},onClick:o,handleClose:s,header:"Import/Export Settings",panelClass:"left-panel",style:{transform:"translateX(".concat("export"===i?"0px":"-350px",")")}},r.a.createElement("div",{className:"vertical-panel-content"},r.a.createElement("div",{className:"panel-content-container"},r.a.createElement("div",{className:"panel-content-header"},"Import Settings"),r.a.createElement(ee,{selected:I,onChange:function(e){var t=e.target.value;if(C(t),"custom"!==t){var a=Q[t],n=(a.displayName,Object(R.a)(a,["displayName"])),r=Z(Object(l.a)({},n));y(r)}else y("")}}),r.a.createElement("textarea",{className:"panel-text-area",rows:20,cols:25,placeholder:"Import settings here...",value:f,onChange:function(e){var t=e.target.value;y(t)}}),r.a.createElement("div",{className:"panel-info-text-container"},r.a.createElement("label",null,"Include keybinds"),r.a.createElement("input",{type:"checkbox",onChange:function(){return T(!E)},checked:E})),r.a.createElement("div",{className:"panel-info-text-container"},r.a.createElement("label",null,"Include spell order"),r.a.createElement("input",{type:"checkbox",onChange:function(){return S(!N)},checked:N})),r.a.createElement("div",{className:"panel-button-container"},r.a.createElement("button",{className:"panel-button panel-input-button",onClick:function(){try{var e=function(e,t,a){try{var n=JSON.parse(F.Base64.decode(e));return{abilitySettings:J(n.abilitySettings),auraSettings:K(n.auraSettings),abilityConfig:$(n.abilityConfig,t,a)}}catch(r){throw new Error("An error occurred while parsing input data.\nReason: "+r.message)}}(f,E,N);a(e)}catch(t){console.error(t)}y("")},disabled:!f},"Import"))),r.a.createElement("div",{className:"panel-content-container"},r.a.createElement("div",{className:"panel-content-header"},"Export Settings"),r.a.createElement("textarea",{id:"export-content",className:"panel-text-area",rows:20,cols:25,value:m,readOnly:!0}),r.a.createElement("div",{className:"panel-button-container"},r.a.createElement("button",{className:"panel-button panel-input-button",onClick:function(){var e=Z(t);h(e)}},"Export"),r.a.createElement("button",{className:"panel-button panel-input-button",onClick:function(){document.getElementById("export-content").select();try{document.execCommand("copy")}catch(e){}},disabled:!m},"Copy")))))},ae=a(8),ne=function(e){var t=e.value,a=e.onChange,i=Object(n.useState)(t/1e3),o=Object(u.a)(i,2),s=o[0],c=o[1];return r.a.createElement("span",null,r.a.createElement("input",{className:"setting-option-input",type:"number",value:s,min:"0",step:".1",onChange:function(e){e.target.value&&(a(1e3*parseFloat(e.target.value)),c(e.target.value))}}),"sec")},re=function(e){var t=e.value,a=e.onChange,n=e.unit;return r.a.createElement("span",null,r.a.createElement("input",{className:"setting-option-input",type:"number",value:t,min:"0",onChange:function(e){e.target.value&&a(parseInt(e.target.value))}})," ",n)},ie=function(e){var t=e.value,a=e.onChange,n=e.unit;return r.a.createElement("span",null,r.a.createElement("input",{className:"setting-option-input",type:"number",value:t,min:"0",step:".01",onChange:function(e){e.target.value&&a(parseFloat(e.target.value))}})," ",n)},oe=function(e){var t=e.value,a=e.onChange,i=Object(n.useState)(100*t),o=Object(u.a)(i,2),s=o[0],c=o[1];return r.a.createElement("span",null,r.a.createElement("input",{className:"setting-option-input",type:"number",value:s,min:"0",step:".5",onChange:function(e){e.target.value&&(a(parseFloat(e.target.value)/100),c(e.target.value))}}),"%")},se=function(e){var t=e.value,a=e.onChange;return r.a.createElement("input",{type:"checkbox",defaultChecked:t,onChange:function(e){a(e.target.checked)}})},ce=function(e){var t=e.value,a=e.onChange,n=e.name,i=e.options,o=function(e){a(e.target.value)};return i.map((function(e){return r.a.createElement("div",null,r.a.createElement("input",{type:"radio",id:e.value,name:n,value:e.value,defaultChecked:e.value===t,onChange:o}),r.a.createElement("label",{htmlFor:e.value},e.displayName))}))},le=Option=function(e,t,a,n,i,o){switch(e){case"time":return r.a.createElement(ne,{key:n,value:t,onChange:a});case"number":return r.a.createElement(re,Object.assign({key:n,value:t,onChange:a},o));case"float":return r.a.createElement(ie,Object.assign({key:n,value:t,onChange:a},o));case"percent":return r.a.createElement(oe,{key:n,value:t,onChange:a});case"boolean":return r.a.createElement(se,{key:n,value:t,onChange:a});case"select":return r.a.createElement(ce,Object.assign({key:n,value:t,name:i,onChange:a},o));default:return null}},ue=(a(29),a(30),function(e){var t=e.value,a=e.name,n=e.type,i=e.whatIs,o=e.displayName,s=e.onChange,c=e.onHelp,l=e.closeHelp,u=e.parentKey,d=Object(R.a)(e,["value","name","type","whatIs","displayName","onChange","onHelp","closeHelp","parentKey"]);return r.a.createElement("div",{className:"setting-option"},r.a.createElement("div",null,r.a.createElement("i",{className:"fa fa-question-circle what-is-icon",onMouseEnter:function(e){var t={x:e.target.offsetLeft,y:e.target.offsetTop};c(o,i,t)},onMouseLeave:l})),r.a.createElement("div",{className:"setting-option-header"},o),le(n,t,(function(e){s(a,e)}),u+"-input",a,d))}),de=function(e){var t=e.name,a=e.text,n=e.xPos,i=e.yPos,o={left:"".concat(n,"px"),top:"".concat(i+30,"px")};return r.a.createElement("div",{className:"what-is",style:o},r.a.createElement("div",{className:"what-is-header"},"What is... ",t,"?"),r.a.createElement("div",{className:"what-is-description"},a))},me=function(e){var t=e.name,a=e.setting,i=e.options,o=e.onChange,s=Object(n.useState)(!1),c=Object(u.a)(s,2),d=c[0],m=c[1],h=Object(n.useState)({}),p=Object(u.a)(h,2),b=p[0],f=p[1],y=function(e,n){var r=Object(l.a)(Object(l.a)({},a),{},Object(ae.a)({},e,n));o(r,t)},v=function(e,t,a){m(!0),f({name:e,text:t,xPos:a.x,yPos:a.y})},g=function(){m(!1),f({})};return r.a.createElement("div",{className:"customize-section"},r.a.createElement("div",{className:"customoze-section-header"},a.displayName),i.map((function(e){return r.a.createElement(ue,Object.assign({},e,{key:"".concat(t,"-").concat(e.key),value:a[e.key],name:e.key,parentKey:"".concat(t,"-").concat(e.key),onChange:y,onHelp:v,closeHelp:g}))})),d?r.a.createElement(de,b):null)},he=function(e){var t=e.settings,a=e.currentPanel,i=e.didReset,o=e.onAbilitySet,s=e.onAuraSet,c=e.onClick,d=e.closePanel,m=t.abilities,h=t.auras,p="Changes pending...\nClick the button below to apply your changes",b=Object(n.useState)(m),f=Object(u.a)(b,2),y=f[0],v=f[1],g=Object(n.useState)(h),E=Object(u.a)(g,2),T=E[0],O=E[1],w=Object(n.useState)(null),N=Object(u.a)(w,2),S=N[0],A=N[1],k=Object(n.useState)(null),I=Object(u.a)(k,2),C=I[0],j=I[1],_=Object(n.useState)(!1),R=Object(u.a)(_,2),D=R[0],x=R[1],L=Object(n.useState)(!1),U=Object(u.a)(L,2),B=U[0],P=U[1];Object(n.useEffect)((function(){O(h),v(m)}),[i]),Object(n.useEffect)((function(){"settings"===a&&(A(Object.keys(m)[0]),j(Object.keys(h)[0]))}),[a]);var H=function(e){var t=e.target.getAttribute("setting");A(t)},M=function(e){var t=e.target.getAttribute("setting");j(t)};return r.a.createElement(G,{panel:"settings",currentPanel:a,reset:function(){O(h),v(m),x(!1),P(!1),setTimeout((function(){A(null),j(null)}),500)},onClick:c,handleClose:d,header:"Custom Settings",panelClass:"right-panel",style:{transform:"translateX(".concat("settings"===a?"0px":"350px")}},r.a.createElement("div",{className:"vertical-panel-content"},r.a.createElement("div",{className:"panel-content-container"},r.a.createElement("div",{className:"panel-content-header"},"Customize Abilities"),r.a.createElement("div",{className:"settings-header-container"},Object.keys(m).filter((function(e){return V[e]})).map((function(e){return r.a.createElement("div",{key:e,className:S===e?"settings-header-active":"settings-header",setting:e,onClick:H},m[e].displayName)}))),S?r.a.createElement(me,{name:S,setting:y[S],options:V[S],onChange:function(e,t){var a=Object(l.a)(Object(l.a)({},y),{},Object(ae.a)({},t,e));v(a),x(!0)}}):null,r.a.createElement("div",{className:"panel-text-button-container"},r.a.createElement("div",{className:"panel-info-text-container"},D?p:null),r.a.createElement("div",null,r.a.createElement("button",{className:"panel-button",onClick:function(){o(y),x(!1)}},"Update Abilities")))),r.a.createElement("div",{className:"panel-content-container"},r.a.createElement("div",{className:"panel-content-header"},"Customize Auras"),r.a.createElement("div",{className:"settings-header-container"},Object.keys(h).filter((function(e){return Y[e]})).map((function(e){return r.a.createElement("div",{key:e,className:C===e?"settings-header-active":"settings-header",setting:e,onClick:M},h[e].displayName)}))),C?r.a.createElement(me,{name:C,setting:T[C],options:Y[C],onChange:function(e,t){var a=Object(l.a)(Object(l.a)({},T),{},Object(ae.a)({},t,e));O(a),P(!0)}}):null,r.a.createElement("div",{className:"panel-text-button-container"},r.a.createElement("div",{className:"panel-info-text-container"},B?p:null),r.a.createElement("div",null,r.a.createElement("button",{className:"panel-button",onClick:function(){s(T),P(!1)}},"Update Auras"))))))},pe=(a(51),function(e){var t=e.name,a=e.count,n=e.onChange,i=e.value;return r.a.createElement("div",null,r.a.createElement("select",{className:"panel-dropdown",value:i,onChange:function(e){n(parseInt(e.target.value),t)}},Object(m.a)(Array(a).keys()).map((function(e){return r.a.createElement("option",{key:"".concat(t,"-index-").concat(e),value:e+1},e+1)}))))}),be=function(e){var t=e.abilities,a=e.currentPanel,i=e.onKeybind,o=e.setOrder,s=e.onToggle,c=e.onClick,l=e.closePanel,d="",m="",h="",p=Object(n.useState)(d),b=Object(u.a)(p,2),f=b[0],y=b[1],v=Object(n.useState)(m),g=Object(u.a)(v,2),E=g[0],T=g[1],w=Object(n.useState)(h),N=Object(u.a)(w,2),S=N[0],A=N[1],k=Object(n.useState)(Object.keys(t).length-1),I=Object(u.a)(k,1)[0],C=Object(n.useRef)(S);C.current=S;var j=function(e){y(e.target.alt)},_=function(){y("")},R=function(e){var a=e.target.getAttribute("ability");A(a),T("Press any key to bind to ".concat(t[a].displayName)),document.addEventListener("keydown",D,{once:!0}),document.addEventListener("keypress",x,{once:!0})},D=function(e){var t=e.key;L(t)&&(e.preventDefault(),U(t))},x=function(e){return U(e.key)},L=function(e){return!!e.match(/F[1-9]{1,2}/)},U=function(e){document.removeEventListener("keypress",x);var a=function(e){return O[e]?{key:e,keybindText:O[e]}:e.match(/^[a-z]$/)?{key:e,keybindText:e.toUpperCase()}:e.match(/^[A-Z]$/)?{key:e,keybindText:"S-"+e}:{key:e,keybindText:e}}(e),n=C.current;i(a,n),T("".concat(t[n].displayName," successfuly bound to ").concat(a.keybindText))};return r.a.createElement(G,{panel:"abilitykeybinds",currentPanel:a,reset:function(){document.removeEventListener("keydown",D),document.removeEventListener("keypress",x),y(d),T(m),A(h)},onClick:c,header:"Ability and Keybinds",style:{transform:"translateY(".concat("abilitykeybinds"===a?"0px":"250px")},panelClass:"bottom-panel",handleClose:function(){y(d),T(m),A(h),l()}},r.a.createElement("div",{className:"horizontal-panel-content"},r.a.createElement("div",{className:"panel-content-header"},"Change Abilities and Keybinds"),r.a.createElement("div",{className:"tooltip"},r.a.createElement("span",{className:"tooltip-text",visibility:(!!f).toString()},f)),r.a.createElement("div",{className:"panel-abilities-content"},r.a.createElement("div",{className:"panel-abilities-header"},"Spell Order"),r.a.createElement("div",{className:"panel-abilities-container"},Object.keys(t).map((function(e){if("void-eruption"!==e)return r.a.createElement("div",{className:"panel-ability-container",key:e},r.a.createElement("img",{className:"hover-pointer",alt:t[e].displayName,ability:e,onMouseOver:j,onMouseOut:_,onClick:R,src:t[e].icon,height:50,width:50}),r.a.createElement("button",{className:"".concat(t[e].disabled?"panel-button-secondary":"panel-button"),onClick:function(){return s(e)}},t[e].disabled?"Enable":"Disable"),r.a.createElement(pe,{name:e,count:I,value:t[e].index,onChange:o}))})))),r.a.createElement("div",null,E||null)))},fe=function(e){var t=e.currentPanel,a=e.onClick,n=e.closePanel;return r.a.createElement(G,{panel:"about",onClick:a,handleClose:n,header:"About",panelClass:"middle-panel",style:{transform:"translateY(".concat("about"===t?"0px":"min(-685px,-70vh)")}},r.a.createElement("div",{className:"middle-panel-content"},r.a.createElement("div",{className:"panel-content-header"},"About"),r.a.createElement("div",{className:"medium-text left-text panel-text-content"},r.a.createElement("p",null,"Voidform Optimizer is a thought experiment I had."),r.a.createElement("p",null,"I am convinced that many, although not all, players' grievances with Voidform are caused by the implementations of Voidform they have experienced, and not by the design of Voidform itself. Therefore I have made it my mission to allow others to experience Voidform in a myriad of ways; in hope that they realize it isn't inherently flawed, find what they most enjoy about it, and share those findings with others. Then, just maybe, as a community we can come to an agreement on how to ",r.a.createElement("b",null,"#savevoidform"),"."),r.a.createElement("p",null,"If you have any questions, feedback, or bugs to report, please feel free to DM me on Discord at Shot#1711."))))},ye=(a(31),[{header:"New Template: Yvaelle's Shadowlands",description:"Yvaelle had an interesting proposal for a static Voidform, so I decided to include support for it and created a template         based on their proposal."},{header:"New Ability: Bloodlust!",description:"Let's be honest, it's hard to determine how Shadow truly feels until you feel it under lust. Luckily, Bloodlust has now         been added so you can have the true Shadow experience. The ability works the same way on live (without the debuff), and is not customizable."},{header:"New Template: Ryeshot's Shadowlands",description:"This template reflects what I think the healthiest version of baseline Shadow looks like going into Shadowlands.         It will be updated regularly as I refine my beliefs on what is best for the spec."},{header:"Void Bolt Rank Two Removed!",description:"Void Bolt rank two has been removed from the alpha, and therefore is no longer part of the alpha template or a         customizable option for Void Bolt. Good riddance."},{header:"New Domain!",description:"Voidform Optimizer is now registered at voidform-optimizer.com."},{header:"Function Key Binding",description:"Due to popular demand, function keys are now a valid keybind option. Just make sure to unbind should you wish to         perform any browser function key events (such as refreshing the page), since the settings will override that default behavior."},{header:"Spell Ordering!",description:"You can now manually set the order of spells shown through the keybinds panel. You can also preserve these changes         by toggling include spell order while importing a template."},{header:"Power Infusion!",description:"Customizable Power Infusion ability has been added! The ability's cooldown may be changed         and the aura's duration and resource generation can be changed. If desired, you can create alpha StM, Lucid,         and Legion Power Infusion from these settings."},{header:"Legion Templates!",description:"New templates to satiate your Legion nostalgia. More to come in the future."},{header:"Shadowfiend",description:"Customizable Shadowfiend ability has been added!"},{header:"Templates",description:"Premade templates may now be selected on import panel!"},{header:"Devouring Plague",description:"The recent Shadowlands Devouring Plague addition is now available to try out!"},{header:"What's New?",description:"Added a what's new dialogue to inform about recent changes to Voidform Optimizer."}]),ve={textAlign:"left",marginBottom:"20px"},ge={fontSize:"15px"},Ee={fontSize:"20px"},Te=function(e){var t=e.onClose;return r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"modal-content panel"},r.a.createElement("div",{className:"form-title"},"What's New"),r.a.createElement("div",null,ye.map((function(e){return r.a.createElement("div",{style:ve},r.a.createElement("b",{style:Ee},e.header),r.a.createElement("div",{style:ge},e.description))}))),r.a.createElement("div",null,r.a.createElement("button",{className:"panel-button",onClick:t},"Got it!")),r.a.createElement("button",{className:"panel-button panel-exit-button",onClick:t},"x")))},Oe=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],i=t[1];return r.a.createElement("div",null,r.a.createElement("div",{className:"panel-header hover-pointer",onClick:function(){return i(!0)}},"What's New"),a?r.a.createElement(Te,{onClose:function(){return i(!1)}}):null)},we={"mind-flay":{displayName:"Mind Flay",index:1,keybind:{key:"1",keybindText:"1"},icon:"images/mind-flay.jpg"},"mind-sear":{displayName:"Mind Sear",index:2,keybind:{key:"2",keybindText:"2"},icon:"images/mind-sear.jpg"},"mind-blast":{displayName:"Mind Blast",index:3,keybind:{key:"3",keybindText:"3"},icon:"images/mind-blast.jpg"},"void-bolt":{displayName:"Void Bolt",index:4,keybind:{key:"4",keybindText:"4"},icon:"images/void-bolt.jpg"},"void-eruption":{displayName:"Void Eruption",index:4,keybind:{key:"4",keybindText:"4"},icon:"images/void-eruption.jpg"},"shadow-word-death":{displayName:"Shadow Word: Death",index:5,keybind:{key:"5",keybindText:"5"},icon:"images/shadow-word-death.jpg"},"void-torrent":{displayName:"Void Torrent",index:6,keybind:{key:"6",keybindText:"6"},icon:"images/void-torrent.jpg"},"shadow-word-pain":{displayName:"Shadow Word: Pain",index:7,keybind:{key:"7",keybindText:"7"},icon:"images/shadow-word-pain.jpg"},"vampiric-touch":{displayName:"Vampiric Touch",index:8,keybind:{key:"8",keybindText:"8"},icon:"images/vampiric-touch.jpg"},"devouring-plague":{displayName:"Devouring Plague",index:9,keybind:{key:"9",keybindText:"9"},icon:"images/devouring-plague.jpg"},shadowfiend:{displayName:"Shadowfiend",index:10,keybind:{key:"0",keybindText:"0"},icon:"images/shadowfiend.jpg"},"power-infusion":{displayName:"Power Infusion",index:11,keybind:{key:"-",keybindText:"-"},icon:"images/power-infusion.jpg"},bloodlust:{displayName:"Bloodlust",index:12,keybind:{key:"=",keybindText:"="},icon:"images/bloodlust.jpg"}},Ne=function(e){var t=e.value,a=e.id,n=e.label,i=e.className,o=e.placeHolder,s=e.onChange;return r.a.createElement("div",{className:"form-field ".concat(i)},r.a.createElement("label",{htmlFor:a},n),r.a.createElement("div",null,r.a.createElement("textarea",{className:"panel-text-area form-input-container",id:a,value:t,placeholder:o,required:!0,onChange:function(e){return s(a,e.target.value)}})))},Se=function(e){var t=e.value,a=e.id,n=e.label,i=e.placeHolder,o=e.onChange,s=e.required;return r.a.createElement("div",{className:"form-field"},r.a.createElement("label",{className:"form-input-title",htmlFor:a},n),r.a.createElement("input",{className:"panel-text-area form-input",type:"text",id:a,value:t,placeholder:i,required:s,onChange:function(e){return o(a,e.target.value)}}))},Ae=a(18),ke=a.n(Ae),Ie=a(24),Ce=window.Email,je=function(e){var t=["<h3>Give a brief description of the issue</h3>","<h3>What is the expected behavior?</h3>","<h3>What is the actual behavior?</h3>","<h3>Contact Information</h3>"];return"<h1>Bug Report for Voidform Optimizer</h1>\n"+Object.keys(e).reduce((function(a,n,r){return e[n]?a.concat([t[r],e[n]]):a}),[]).join("\n")},_e=function(){var e=Object(Ie.a)(ke.a.mark((function e(t,a){var n,r;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={SecureToken:"bc7171e6-2cf7-4f90-b6eb-faa890bc0e79",From:"ryeshot.dev.notifications@gmail.com",To:"ryanbosteder@gmail.com",Subject:t,Body:a},e.next=3,Ce.send(n);case 3:if("OK"===(r=e.sent)){e.next=6;break}throw new Error(r);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Re=function(){var e=Object(Ie.a)(ke.a.mark((function e(t,a,n){var r,i,o;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.title,i=Object(R.a)(t,["title"]),o=je(i),e.prev=2,e.next=5,_e("[BUG] ".concat(r),o);case 5:a(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0),n();case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,a,n){return e.apply(this,arguments)}}(),De=[{id:"bug-report-description",label:"Description",className:"form-field-small"},{id:"bug-report-expected",label:"Expected Behavior",className:"form-field-medium"},{id:"bug-report-actual",label:"Actual Behavior",className:"form-field-medium"}],xe={id:"title",label:"Title"},Le={id:"contact",label:"Contact (Optional)"},Ue=function(e){var t=e.closeForm,a=Object(n.useState)({}),i=Object(u.a)(a,2),o=i[0],s=i[1],c=Object(n.useState)(!0),d=Object(u.a)(c,2),m=d[0],h=d[1],p=Object(n.useState)(""),b=Object(u.a)(p,2),f=b[0],y=b[1],v=function(e,t){s(Object(l.a)(Object(l.a)({},o),{},Object(ae.a)({},e,t)))};return r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"modal-content panel"},r.a.createElement("div",{className:"form-title"},"Bug Report"),r.a.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault();var t=function(e,t){var a=1;return t(e),setInterval((function(){var n=a%4;t("".concat(e).concat(".".repeat(n))),a++}),500)}("Submitting",y);Re(o,(function(){clearInterval(t),y("Bug report successfully submitted!")}),(function(){clearInterval(t),y("Failed to submit bug report")})),h(!1)}},r.a.createElement("div",{className:"form-info"},"If the issue is UI related, please update your browser to the latest version before submitting."),r.a.createElement(Se,Object.assign({value:o.title},xe,{required:!0,onChange:v})),De.map((function(e){return r.a.createElement(Ne,Object.assign({key:e.id,value:o[e.id]},e,{onChange:v}))})),r.a.createElement(Se,Object.assign({value:o.contact},Le,{required:!1,onChange:v})),r.a.createElement("div",null,r.a.createElement("input",{className:"panel-button",type:"submit",value:"Submit",disabled:!m}))),r.a.createElement("div",null,f),r.a.createElement("button",{className:"panel-button panel-exit-button",onClick:t},"x")))},Be=function(e){var t=e.closeForm;return r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"modal-content panel"},"Coming soon!",r.a.createElement("button",{className:"panel-button panel-exit-button",onClick:t},"x")))},Pe=function(e){var t=e.pauseKeyEvents,a=Object(n.useState)(!1),i=Object(u.a)(a,2),o=i[0],s=i[1],c=Object(n.useState)(!1),l=Object(u.a)(c,2),d=l[0],m=l[1],h=function(e,a){t(a),e(a)};return r.a.createElement("div",{className:"forms-container"},r.a.createElement("div",null,r.a.createElement("button",{className:"panel-button",onClick:function(){return h(s,!0)}},"Report a Bug"),r.a.createElement("button",{className:"panel-button",onClick:function(){return h(m,!0)}},"Request a Feature")),o?r.a.createElement(Ue,{closeForm:function(){return h(s,!1)}}):null,d?r.a.createElement(Be,{closeForm:function(){return h(m,!1)}}):null)},Ve=(a(32),{resource:0,auras:{stats:{haste:0},voidform:{active:!1,stacks:0,haste:0,paused:!1},lingeringInsanity:{active:!1,stacks:0,haste:0},"shadow-word-pain":{active:!1},"vampiric-touch":{active:!1},"devouring-plague":{active:!1},shadowfiend:{active:!1},"power-infusion":{active:!1,haste:0},bloodlust:{active:!1,haste:0}},abilities:{"void-eruption":{unusable:!0},"devouring-plague":{unusable:!0},"void-torrent":{unusable:z["void-torrent"].requireVoidform}}}),Ye=function(){var e=Object(n.useState)(),t=Object(u.a)(e,2),a=t[0],i=t[1],o=Object(n.useState)(z),c=Object(u.a)(o,2),m=c[0],h=c[1],p=Object(n.useState)(we),b=Object(u.a)(p,2),f=b[0],y=b[1],v=Object(n.useState)(q),g=Object(u.a)(v,2),E=g[0],T=g[1],O=Object(n.useState)(!1),w=Object(u.a)(O,2),N=w[0],S=w[1],A=Object(n.useState)(!1),k=Object(u.a)(A,2),I=k[0],C=k[1],j=Object(n.useState)(!1),R=Object(u.a)(j,2),D=R[0],x=R[1],L=Object(n.useState)(0),U=Object(u.a)(L,2),B=U[0],P=U[1],V=Object(n.useReducer)((function(e,t){var a=t.type,n=JSON.parse(JSON.stringify(e)),r=n.auras.voidform,i=n.auras.lingeringInsanity,o=n.auras["power-infusion"];switch(a){case"RESET":return Object(l.a)(Object(l.a)({},Ve),{},{resource:E.stats.startingInsanity});case"RESET_ABILITIES":return Object(l.a)(Object(l.a)({},Ve),{},{resource:E.stats.startingInsanity,auras:e.auras});case"RESET_AURAS":return Object(l.a)(Object(l.a)({},n),{},{resource:E.stats.startingInsanity,auras:Object(l.a)(Object(l.a)({},Ve.auras),{},{stats:e.auras.stats})});case"UPDATE_ABILITY_STATE":n.abilities["void-torrent"].unusable=m["void-torrent"].requireVoidform;break;case"HASTE_SET":var s=t.payload,c=s.source,u=s.haste;n.auras[c].haste=u;break;case"HASTE_UPDATE":var d=t.payload;c=d.source,u=d.haste;n.auras[c].haste+=u;break;case"HASTE_RESET":c=t.payload.source;n.auras[c].haste=0;break;case"VOIDFORM_UPDATE":r.stacks++,r.haste+=t.payload;break;case"VOIDFORM_START":r.active=!0,r.stacks=1,m["void-torrent"].requireVoidform&&(n.abilities["void-torrent"].unusable=!1);break;case"VOIDFORM_END":var h=t.payload,p=h.time,b=h.startingHaste;i.active=!0,i.stacks=r.stacks,i.haste=Math.round(1e3*(r.haste-b))/1e3,i.startTime=p,r.stacks=0,r.haste=0,n.abilities["void-eruption"].unusable=!0,n.abilities["void-torrent"].unusable=m["void-torrent"].requireVoidform;break;case"LINGERING_INSANITY_START":var f=t.payload,y=(u=f.haste,f.stacks);i.haste=u,i.stacks=y;break;case"LINGERING_INSANITY_UPDATE":i.haste+=t.payload,i.stacks--,i.haste<=0&&(i.haste=0);break;case"LINGERING_INSANITY_END":i.active=!1,i.stacks=0,i.haste=0,i.startTime=0;break;case"RESOURCE_UPDATE":var v=t.payload,g=v.name,T=v.resource,O=v.costsResource,w=v.costType,N="mind-sear"===g?m[g].targetCount:1;T=T*(O?-1:1)*N,r.active&&!E.voidform.gainInsanity&&T>0&&(T=0),w&&"dump"===w&&(T=0,n.resource=0),o.active&&T>0&&(T+=T*E["power-infusion"].resourceGen),T=Math.max(Math.min(n.resource+T,100),0),n.resource=T,T<=0&&r.active&&"insanity"===E.voidform.type&&(r.active=!1),Object.keys(m).forEach((function(e){var t=m[e];t.costsResource&&("dump"===t.costType?n.abilities[e].unusable=0===T:n.abilities[e].unusable=T<t.resource)}));break;case"INSANITY_DRAIN_PAUSE_START":r.paused=!0;break;case"INSANITY_DRAIN_PAUSE_END":r.paused=!1;break;case"AURA_START":var S=t.payload,A=(g=S.name,p=S.time,n.auras[g]);A.active?function(e,t,a){var n=e.startTime+e.maxDuration-a,r=Math.min(.3*t,n);e.maxDuration=t+r,e.startTime=a}(A,E[g].baseDuration,p):A.active=!0;break;case"AURA_BEGIN":var k=t.payload,I=(g=k.name,p=k.time,k.duration);n.auras[g].startTime=p,n.auras[g].maxDuration=I;break;case"AURA_REFRESH":var C=t.payload;g=C.name,p=C.time;n.auras[g].startTime=p;break;case"AURA_END":g=t.payload.name;n.auras[g].active=!1,n.auras[g].startTime=0;break;case"DOT_EXTEND":var j=m["void-bolt"].extension;["shadow-word-pain","vampiric-touch"].forEach((function(e){var t=n.auras[e];t.active&&(t.maxDuration+=j)}))}return n}),Ve),Y=Object(u.a)(V,2),H=Y[0],M=Y[1];Object(n.useEffect)((function(){P(G)}),[H.auras.stats.haste,H.auras.voidform.haste,H.auras.lingeringInsanity.haste,H.auras["power-infusion"].haste,H.auras.bloodlust.haste]);var G=function(){var e=H.auras;return Object.keys(e).reduce((function(t,a){return e[a].haste?t*(1+e[a].haste):t}),1)},F=function(e){S(!0),i(e)},J=function(){S(!1),i(null)},K=function(e){var t=Object.keys(f).reduce((function(t,a){return t[a]=Object(l.a)(Object(l.a)({},f[a]),e[a]),t}),{});y(t)},X=function(e){T(e);var t=e.stats.haste,a=e.stats.startingInsanity;Q(a),M({type:"HASTE_SET",payload:{source:"stats",haste:t}})},$=function(e){h(e),Z()},Z=function(){M({type:"RESET_ABILITIES"}),M({type:"RESOURCE_UPDATE",payload:{resource:0}}),M({type:"UPDATE_ABILITY_STATE"}),x(!D)},Q=function(){M({type:"RESET_AURAS"}),setTimeout((function(){M({type:"LINGERING_INSANITY_END"})}),0)},ee=function(){Q(),Z(),C(!I)};return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header header-panel"},r.a.createElement("div",{className:"App-title"},r.a.createElement("div",{className:"App-title-text"},"Voidform Optimizer")),r.a.createElement("div",{className:"panel-container"},r.a.createElement(he,{settings:{abilities:Object.keys(m).reduce((function(e,t){return e[t]=Object(l.a)(Object(l.a)({},m[t]),{},{displayName:we[t].displayName}),e}),{}),auras:E},didReset:I,onAbilitySet:$,onAuraSet:X,currentPanel:a,onClick:F,closePanel:J}),r.a.createElement(be,{abilities:f,currentPanel:a,onKeybind:function(e,t){var a=JSON.parse(JSON.stringify(f)),n=e.key,r="void-bolt"===t||"void-eruption"===t;Object.keys(a).forEach((function(e){a[e].keybind.key===n&&(a[e].keybind={keybindText:"--"})})),r?(a["void-bolt"].keybind=Object(l.a)({},e),a["void-eruption"].keybind=Object(l.a)({},e)):a[t].keybind=Object(l.a)({},e),y(a)},setOrder:function(e,t){var a=JSON.parse(JSON.stringify(f)),n=a[t],r=n.index,i=e<r?"right":"left",o="void-bolt"===t||"void-eruption"===t;Object.keys(a).forEach((function(t){var n=a[t].index;"right"===i&&n>=e&&n<r&&a[t].index++,"left"===i&&n<=e&&n>r&&a[t].index--})),o?(a["void-bolt"].index=e,a["void-eruption"].index=e):n.index=e,y(a)},onToggle:function(e){var t=JSON.parse(JSON.stringify(f));t[e].disabled=!t[e].disabled,"void-bolt"===e&&(t["void-eruption"].disabled=t[e].disabled),y(t)},onClick:F,closePanel:J}),r.a.createElement(te,{settings:{abilitySettings:m,auraSettings:E,abilities:f},onImport:function(e){K(e.abilityConfig),$(e.abilitySettings),X(e.auraSettings),ee()},currentPanel:a,onClick:F,closePanel:J}),r.a.createElement(fe,{currentPanel:a,onClick:F,closePanel:J}),r.a.createElement(Oe,null),r.a.createElement("div",null,r.a.createElement(s.b,{className:"page-nav-link",to:"/articles/design-philosophy"},r.a.createElement("div",{className:"panel-header hover-pointer"},"Design Philosophy")))),r.a.createElement(Pe,{pauseKeyEvents:S})),r.a.createElement("div",{className:"App-content"},r.a.createElement(W,{auras:H.auras,settings:E,haste:B,triggerEvent:M}),r.a.createElement(d,{current:H.resource,max:100}),r.a.createElement(_,{abilitySettings:m,abilities:Object.keys(f).reduce((function(e,t){return e[t]=Object(l.a)(Object(l.a)({},f[t]),H.abilities[t]),e}),{}),haste:B,inVoidform:H.auras.voidform.active,triggerEvent:M,keyEventsPaused:N,reset:D}),r.a.createElement("button",{className:"panel-button",onClick:ee},"Reset")))},He=[{header:"",content:'This will be a detailed article on my design philosophy regarding the baseline health of Shadow and Voidform.     If you want to skip the reasoning behind my design decisions, you can try the design out yourself using the "Ryeshot\'s     Shadowlands" template on the main page. I will be breaking this article down by the changes made to each element of the     spec, and the reasons for those changes.'},{header:"Voidform",content:"The core of Voidform in my mind boils down to two things. It is a self-perpetuating state that mimics the descent     into madness. It also enables Void Bolt. Therefore I made Voidform do these two things and only these two things. Get rid of     borrowed power (good riddance Mass Hysteria and Chorus of Insanity), get rid of Lingering Insanity (more reason will be     provided later), get rid of Mind Blast cooldown reduction (why did this exist?).     \n\n    Voidform now immediately grants 10% haste and grants an extra 1% haste per stack while in Voidform. Entering Voidform     should immediately be noticeable due to the rotation quickening immediately. Additionally, unlike existing Voidform at     .5% haste per stack, you should be able to feel the quickening pace of your rotation while you remain in Voidform. You     should now feel like you are going insane while in Voidform!"},{header:"Shadowform",content:"Because of how Voidform is designed, Shadowform by necessity must be slow-paced. If you want to think about     Voidform as the high, then Shadowform is the low. There needs to be some time between Voidforms so that it is not     thought of as the default state, otherwise the player will become desensitized to its effects. This time should be     just long enough to begin wanting Voidform again, but not long enough to experience fatigue from the lack of Voidform."},{header:"Mind Blast",content:"Mind blast has two charges baseline. I think the reason is pretty self apparent, but for those who aren't     aware: Void Bolt and Mind Blast cause an effect call clashing, which means they come off cooldown at the same time.     This causes the lower priority spell (in this case Mind Blast) to be off cooldown during the global the higher priority     spell (Void Bolt) is cast. Adding a second charge to Mind Blast removes the clashing since Mind Blast will continue     recharging when its cooldown clashes with Void Bolt.    \n\n    Mind Blast now generates 25 Insanity. This makes Shadowform's length shorter and makes less of a dependency of casting     Mind Flay to generate Insanity. You can now generate more Insanity while moving because your Insanity budget now     resides mostly in Void Bolt and Mind Blast (due to it recharging while moving).    \n    Mind blast no longer has its cooldown reduced while in Voidform. There was no reason for this to exist so I removed it."},{header:"Void Bolt",content:"Now generates 15 Insanity. Because I want Mind Blast to be the Insanity nuke of the spec, I needed to reduce     Void Bolt's Insanity generation so generation between the two spells did not feel too similar."},{header:"Devouring Plague",content:"Blizzard added Devouring Plague with the express purpose of having an option for spending Insanity in content     that does not support Voidform. I expanded upon this purpose and designed an ability which I believe to be a compelling     skill to press no matter the content.    \n\n    Devouring Plague spends all Insanity and generates 30 Insanity over its duration. Due to spending all Insanity, Devouring     Plague can now be used as an option to exit Voidform at will. It can also be used as (one of) the last spell in your     Voidform; scraping for any remaining Insanity and hurling it at your foe. Lastly, it can be used out of Voidform to     deal damage to an enemy that either will not last for Voidform's duration, or should you wish to do more priority damage     to that target.    \n\n    The fact that Devouring Plague also generates Insanity over its duration means that after using it you can get a faster     cast of another Devouring Plague or Void Eruption."},{header:"Lingering Insanity",content:"Lingering Insanity has been removed. No talent, not baseline; gone, poof. In a world where Voidform has base     haste, I could not think of a valid reason to keep Lingering Insanity. The purpose for Lingering Insanity is to smooth     the transitions between Voidforms. Not only is that counter to the design of Shadowform as explained above, it is no     longer necessary due to the duration in Shadowform being tolerable and entering Voidform having an immediate impact     on the pacing of the gameplay."},{header:"Starting Insanity",content:"Now gain 30 Insanity while out of combat. This alleviates the pain point for having the first Voidform of     a fight take longer than every other one. It also provides quick options for using Insanity in content where casting     Voidform is not the only option."},{header:"Insanity Drain",content:"Insanity drain was adjusted such that you can reach a soft cap of 25 stacks at entry-raid levels of haste.     If you want to wish the exact numbers, Voidform starts at a drain of 6 Insanity per second, which increases at a rate of     .66 Insanity per stack."}],Me=function(){return r.a.createElement("div",{className:"sub-page"},r.a.createElement("header",{className:"App-header header-panel"},r.a.createElement("div",{className:"sub-page-header"},r.a.createElement("div",{className:"sub-page-title"},"Design Philosophy")),r.a.createElement("div",{className:"page-nav-container"},r.a.createElement(s.b,{className:"page-nav-link",to:"/"},r.a.createElement("div",{className:"page-nav-text"},"Voidform Optimizer")))),r.a.createElement("div",{className:"sub-page-content-container"},He.map((function(e){return r.a.createElement("div",null,r.a.createElement("h3",null,e.header),r.a.createElement("div",null,e.content))}))),r.a.createElement("div",{className:"sub-page-asset-container"}))},We=function(){return r.a.createElement(s.a,null,r.a.createElement("div",null,r.a.createElement(c.c,null,r.a.createElement(c.a,{path:"/articles/design-philosophy"},r.a.createElement(Me,null)),r.a.createElement(c.a,{path:"/"},r.a.createElement(Ye,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ge=a(37);a.n(Ge).a.config(),o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(We,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[38,1,2]]]);
//# sourceMappingURL=main.b0d55609.chunk.js.map